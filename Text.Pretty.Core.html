<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Text.Pretty.Core</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Pretty Printing</a>
<a id="125" class="Comment">-- This module is based on Jean-Philippe Bernardy&#39;s functional pearl</a>
<a id="194" class="Comment">-- &quot;A Pretty But Not Greedy Printer&quot;</a>
<a id="231" class="Comment">------------------------------------------------------------------------</a>

<a id="305" class="Symbol">{-#</a> <a id="309" class="Keyword">OPTIONS</a> <a id="317" class="Pragma">--with-K</a> <a id="326" class="Symbol">#-}</a>

<a id="331" class="Keyword">module</a> <a id="338" href="Text.Pretty.Core.html" class="Module">Text.Pretty.Core</a> <a id="355" class="Keyword">where</a>

<a id="362" class="Keyword">import</a> <a id="369" href="Level.html" class="Module">Level</a>

<a id="376" class="Keyword">open</a> <a id="381" class="Keyword">import</a> <a id="388" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="403" class="Keyword">using</a> <a id="409" class="Symbol">(</a><a id="410" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="414" class="Symbol">)</a>
<a id="416" class="Keyword">open</a> <a id="421" class="Keyword">import</a> <a id="428" href="Data.Irrelevant.html" class="Module">Data.Irrelevant</a> <a id="444" class="Symbol">as</a> <a id="447" class="Module">Irrelevant</a> <a id="458" class="Keyword">using</a> <a id="464" class="Symbol">(</a><a id="465" href="Data.Irrelevant.html#725" class="Record">Irrelevant</a><a id="475" class="Symbol">)</a> <a id="477" class="Keyword">hiding</a> <a id="484" class="Symbol">(</a><a id="485" class="Keyword">module</a> <a id="492" href="Data.Irrelevant.html#725" class="Module">Irrelevant</a><a id="502" class="Symbol">)</a>
<a id="504" class="Keyword">open</a> <a id="509" class="Keyword">import</a> <a id="516" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="531" class="Symbol">as</a> <a id="534" class="Module">List</a>   <a id="541" class="Keyword">using</a> <a id="547" class="Symbol">(</a><a id="548" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="552" class="Symbol">;</a> <a id="554" href="Data.List.Base.html#7789" class="InductiveConstructor">[]</a><a id="556" class="Symbol">;</a> <a id="558" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">_∷_</a><a id="561" class="Symbol">)</a>
<a id="563" class="Keyword">open</a> <a id="568" class="Keyword">import</a> <a id="575" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>            <a id="600" class="Keyword">using</a> <a id="606" class="Symbol">(</a><a id="607" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="608" class="Symbol">;</a> <a id="610" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="614" class="Symbol">;</a> <a id="616" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="619" class="Symbol">;</a> <a id="621" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a><a id="624" class="Symbol">;</a> <a id="626" href="Data.Nat.Base.html#4492" class="Function Operator">_⊔_</a><a id="629" class="Symbol">;</a> <a id="631" href="Data.Nat.Base.html#1640" class="Datatype Operator">_≤_</a><a id="634" class="Symbol">;</a> <a id="636" href="Data.Nat.Base.html#1663" class="InductiveConstructor">z≤n</a><a id="639" class="Symbol">)</a>
<a id="641" class="Keyword">open</a> <a id="646" class="Keyword">import</a> <a id="653" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>
<a id="673" class="Keyword">open</a> <a id="678" class="Keyword">import</a> <a id="685" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="703" class="Symbol">as</a> <a id="706" class="Module">Prod</a> <a id="711" class="Keyword">using</a> <a id="717" class="Symbol">(</a><a id="718" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="721" class="Symbol">;</a> <a id="723" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="726" class="Symbol">;</a> <a id="728" href="Data.Product.Base.html#3109" class="Function">uncurry</a><a id="735" class="Symbol">;</a> <a id="737" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="742" class="Symbol">;</a> <a id="744" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="749" class="Symbol">)</a>
<a id="751" class="Keyword">import</a> <a id="758" href="Data.Product.Relation.Unary.All.html" class="Module">Data.Product.Relation.Unary.All</a> <a id="790" class="Symbol">as</a> <a id="793" class="Module">Allᴾ</a>

<a id="799" class="Keyword">open</a> <a id="804" class="Keyword">import</a> <a id="811" href="Data.Tree.Binary.html" class="Module">Data.Tree.Binary</a> <a id="828" class="Symbol">as</a> <a id="831" class="Module">Tree</a> <a id="836" class="Keyword">using</a> <a id="842" class="Symbol">(</a><a id="843" href="Data.Tree.Binary.html#700" class="Datatype">Tree</a><a id="847" class="Symbol">;</a> <a id="849" href="Data.Tree.Binary.html#751" class="InductiveConstructor">leaf</a><a id="853" class="Symbol">;</a> <a id="855" href="Data.Tree.Binary.html#773" class="InductiveConstructor">node</a><a id="859" class="Symbol">;</a> <a id="861" href="Data.Tree.Binary.html#1083" class="Function">#nodes</a><a id="867" class="Symbol">;</a> <a id="869" href="Data.Tree.Binary.html#959" class="Function">mapₙ</a><a id="873" class="Symbol">)</a>
<a id="875" class="Keyword">open</a> <a id="880" class="Keyword">import</a> <a id="887" href="Data.Tree.Binary.Relation.Unary.All.html" class="Module">Data.Tree.Binary.Relation.Unary.All</a> <a id="923" class="Symbol">as</a> <a id="926" class="Module">Allᵀ</a> <a id="931" class="Keyword">using</a> <a id="937" class="Symbol">(</a><a id="938" href="Data.Tree.Binary.Relation.Unary.All.html#739" class="InductiveConstructor">leaf</a><a id="942" class="Symbol">;</a> <a id="944" href="Data.Tree.Binary.Relation.Unary.All.html#779" class="InductiveConstructor">node</a><a id="948" class="Symbol">)</a>
<a id="950" class="Keyword">open</a> <a id="955" class="Keyword">import</a> <a id="962" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="972" class="Keyword">using</a> <a id="978" class="Symbol">(</a><a id="979" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="980" class="Symbol">;</a> <a id="982" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="984" class="Symbol">)</a>
<a id="986" class="Keyword">import</a> <a id="993" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Module">Data.Tree.Binary.Relation.Unary.All.Properties</a> <a id="1040" class="Symbol">as</a> <a id="1043" class="Module">Allᵀₚ</a>
<a id="1049" class="Keyword">import</a> <a id="1056" href="Data.Tree.Binary.Properties.html" class="Module">Data.Tree.Binary.Properties</a> <a id="1084" class="Symbol">as</a> <a id="1087" class="Module">Treeₚ</a>

<a id="1094" class="Keyword">open</a> <a id="1099" class="Keyword">import</a> <a id="1106" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="1122" class="Symbol">as</a> <a id="1125" class="Module">Maybe</a> <a id="1131" class="Keyword">using</a> <a id="1137" class="Symbol">(</a><a id="1138" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a><a id="1143" class="Symbol">;</a> <a id="1145" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="1152" class="Symbol">;</a> <a id="1154" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a><a id="1158" class="Symbol">;</a> <a id="1160" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a><a id="1166" class="Symbol">)</a>
<a id="1168" class="Keyword">open</a> <a id="1173" class="Keyword">import</a> <a id="1180" href="Data.Maybe.Relation.Unary.All.html" class="Module">Data.Maybe.Relation.Unary.All</a> <a id="1210" class="Symbol">as</a> <a id="1213" class="Module">Allᴹ</a> <a id="1218" class="Keyword">using</a> <a id="1224" class="Symbol">(</a><a id="1225" href="Data.Maybe.Relation.Unary.All.html#1057" class="InductiveConstructor">nothing</a><a id="1232" class="Symbol">;</a> <a id="1234" href="Data.Maybe.Relation.Unary.All.html#1016" class="InductiveConstructor">just</a><a id="1238" class="Symbol">)</a>

<a id="1241" class="Keyword">open</a> <a id="1246" class="Keyword">import</a> <a id="1253" href="Data.String.Base.html" class="Module">Data.String.Base</a> <a id="1270" class="Symbol">as</a> <a id="1273" class="Module">String</a>
  <a id="1282" class="Keyword">using</a> <a id="1288" class="Symbol">(</a><a id="1289" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="1295" class="Symbol">;</a> <a id="1297" href="Data.String.Base.html#2464" class="Function">length</a><a id="1303" class="Symbol">;</a> <a id="1305" href="Data.String.Base.html#2515" class="Function">replicate</a><a id="1314" class="Symbol">;</a> <a id="1316" href="Data.String.Base.html#2400" class="Function Operator">_++_</a><a id="1320" class="Symbol">;</a> <a id="1322" href="Data.String.Base.html#2801" class="Function">unlines</a><a id="1329" class="Symbol">)</a>
<a id="1331" class="Keyword">open</a> <a id="1336" class="Keyword">import</a> <a id="1343" href="Data.String.Unsafe.html" class="Module">Data.String.Unsafe</a> <a id="1362" class="Symbol">as</a> <a id="1365" class="Module">Stringₚ</a>
<a id="1373" class="Keyword">open</a> <a id="1378" class="Keyword">import</a> <a id="1385" href="Function.Base.html" class="Module">Function.Base</a>
<a id="1399" class="Keyword">open</a> <a id="1404" class="Keyword">import</a> <a id="1411" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="1438" class="Keyword">using</a> <a id="1444" class="Symbol">(</a><a id="1445" href="Relation.Nullary.Decidable.Core.html#1478" class="Record">Dec</a><a id="1448" class="Symbol">)</a>
<a id="1450" class="Keyword">open</a> <a id="1455" class="Keyword">import</a> <a id="1462" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1477" class="Keyword">using</a> <a id="1483" class="Symbol">(</a><a id="1484" href="Relation.Unary.html#3629" class="Function">IUniversal</a><a id="1494" class="Symbol">;</a> <a id="1496" href="Relation.Unary.html#4621" class="Function Operator">_⇒_</a><a id="1499" class="Symbol">;</a> <a id="1501" href="Relation.Unary.html#1522" class="Function">U</a><a id="1502" class="Symbol">)</a>
<a id="1504" class="Keyword">open</a> <a id="1509" class="Keyword">import</a> <a id="1516" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="1555" class="Keyword">open</a> <a id="1560" class="Keyword">import</a> <a id="1567" href="Data.Refinement.html" class="Module">Data.Refinement</a> <a id="1583" class="Keyword">hiding</a> <a id="1590" class="Symbol">(</a><a id="1591" href="Data.Refinement.html#1082" class="Function">map</a><a id="1594" class="Symbol">)</a>
<a id="1596" class="Keyword">import</a> <a id="1603" href="Data.Refinement.Relation.Unary.All.html" class="Module">Data.Refinement.Relation.Unary.All</a> <a id="1638" class="Symbol">as</a> <a id="1641" class="Module">Allᴿ</a>

<a id="1647" class="Comment">------------------------------------------------------------------------</a>
<a id="1720" class="Comment">-- Block of text</a>

<a id="1738" class="Comment">-- Content is a representation of the first line and the middle of the</a>
<a id="1809" class="Comment">-- block. We use a tree rather than a list for the middle of the block</a>
<a id="1880" class="Comment">-- so that we can extend it with lines on the left and on the line for</a>
<a id="1951" class="Comment">-- free. We will ultimately render the block by traversing the tree left</a>
<a id="2024" class="Comment">-- to right in a depth-first manner.</a>

<a id="Content"></a><a id="2062" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="2070" class="Symbol">:</a> <a id="2072" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="2076" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="2084" class="Symbol">=</a> <a id="2086" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2092" class="Symbol">(</a><a id="2093" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2100" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2102" href="Data.Tree.Binary.html#700" class="Datatype">Tree</a> <a id="2107" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2114" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="2115" class="Symbol">)</a>

<a id="size"></a><a id="2118" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="2123" class="Symbol">:</a> <a id="2125" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="2133" class="Symbol">→</a> <a id="2135" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="2137" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="2142" class="Symbol">=</a> <a id="2144" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="2151" class="Symbol">(</a><a id="2152" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2156" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2158" href="Data.Tree.Binary.html#1083" class="Function">#nodes</a> <a id="2165" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2167" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="2172" class="Symbol">)</a> <a id="2174" class="Number">0</a>

<a id="All"></a><a id="2177" href="Text.Pretty.Core.html#2177" class="Function">All</a> <a id="2181" class="Symbol">:</a> <a id="2183" class="Symbol">∀</a> <a id="2185" class="Symbol">{</a><a id="2186" href="Text.Pretty.Core.html#2186" class="Bound">p</a><a id="2187" class="Symbol">}</a> <a id="2189" class="Symbol">(</a><a id="2190" href="Text.Pretty.Core.html#2190" class="Bound">P</a> <a id="2192" class="Symbol">:</a> <a id="2194" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2201" class="Symbol">→</a> <a id="2203" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2207" href="Text.Pretty.Core.html#2186" class="Bound">p</a><a id="2208" class="Symbol">)</a> <a id="2210" class="Symbol">→</a> <a id="2212" class="Symbol">(</a><a id="2213" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="2221" class="Symbol">→</a> <a id="2223" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2227" href="Text.Pretty.Core.html#2186" class="Bound">p</a><a id="2228" class="Symbol">)</a>
<a id="2230" href="Text.Pretty.Core.html#2177" class="Function">All</a> <a id="2234" href="Text.Pretty.Core.html#2234" class="Bound">P</a> <a id="2236" class="Symbol">=</a> <a id="2238" href="Data.Maybe.Relation.Unary.All.html#946" class="Datatype">Allᴹ.All</a> <a id="2247" class="Symbol">(</a><a id="2248" href="Data.Product.Relation.Unary.All.html#453" class="Function">Allᴾ.All</a> <a id="2257" href="Text.Pretty.Core.html#2234" class="Bound">P</a> <a id="2259" class="Symbol">(</a><a id="2260" href="Data.Tree.Binary.Relation.Unary.All.html#638" class="Datatype">Allᵀ.All</a> <a id="2269" href="Text.Pretty.Core.html#2234" class="Bound">P</a> <a id="2271" href="Relation.Unary.html#1522" class="Function">U</a><a id="2272" class="Symbol">))</a>

<a id="All≤"></a><a id="2276" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="2281" class="Symbol">:</a> <a id="2283" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2285" class="Symbol">→</a> <a id="2287" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="2295" class="Symbol">→</a> <a id="2297" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="2301" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="2306" href="Text.Pretty.Core.html#2306" class="Bound">n</a> <a id="2308" class="Symbol">=</a> <a id="2310" href="Text.Pretty.Core.html#2177" class="Function">All</a> <a id="2314" class="Symbol">(λ</a> <a id="2317" href="Text.Pretty.Core.html#2317" class="Bound">s</a> <a id="2319" class="Symbol">→</a> <a id="2321" href="Data.String.Base.html#2464" class="Function">length</a> <a id="2328" href="Text.Pretty.Core.html#2317" class="Bound">s</a> <a id="2330" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="2332" href="Text.Pretty.Core.html#2306" class="Bound">n</a><a id="2333" class="Symbol">)</a>

<a id="2336" class="Keyword">record</a> <a id="Block"></a><a id="2343" href="Text.Pretty.Core.html#2343" class="Record">Block</a> <a id="2349" class="Symbol">:</a> <a id="2351" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2355" class="Keyword">where</a>
  <a id="2363" class="Keyword">field</a>
    <a id="Block.height"></a><a id="2373" href="Text.Pretty.Core.html#2373" class="Field">height</a>    <a id="2383" class="Symbol">:</a> <a id="2385" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="Block.block"></a><a id="2391" href="Text.Pretty.Core.html#2391" class="Field">block</a>     <a id="2401" class="Symbol">:</a> <a id="2403" href="Data.Refinement.html#947" class="Function">[</a> <a id="2405" href="Text.Pretty.Core.html#2405" class="Bound">xs</a> <a id="2408" href="Data.Refinement.html#947" class="Function">∈</a> <a id="2410" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="2418" href="Data.Refinement.html#947" class="Function">∣</a> <a id="2420" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="2425" href="Text.Pretty.Core.html#2405" class="Bound">xs</a> <a id="2428" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2430" href="Text.Pretty.Core.html#2373" class="Field">height</a> <a id="2437" href="Data.Refinement.html#947" class="Function">]</a>
  <a id="2441" class="Comment">-- last line</a>
    <a id="Block.lastWidth"></a><a id="2458" href="Text.Pretty.Core.html#2458" class="Field">lastWidth</a> <a id="2468" class="Symbol">:</a> <a id="2470" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="Block.last"></a><a id="2476" href="Text.Pretty.Core.html#2476" class="Field">last</a>      <a id="2486" class="Symbol">:</a> <a id="2488" href="Data.Refinement.html#947" class="Function">[</a> <a id="2490" href="Text.Pretty.Core.html#2490" class="Bound">s</a> <a id="2492" href="Data.Refinement.html#947" class="Function">∈</a> <a id="2494" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2501" href="Data.Refinement.html#947" class="Function">∣</a> <a id="2503" href="Data.String.Base.html#2464" class="Function">length</a> <a id="2510" href="Text.Pretty.Core.html#2490" class="Bound">s</a> <a id="2512" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2514" href="Text.Pretty.Core.html#2458" class="Field">lastWidth</a> <a id="2524" href="Data.Refinement.html#947" class="Function">]</a>
  <a id="2528" class="Comment">-- max of all the widths</a>
    <a id="Block.maxWidth"></a><a id="2557" href="Text.Pretty.Core.html#2557" class="Field">maxWidth</a>  <a id="2567" class="Symbol">:</a> <a id="2569" href="Data.Refinement.html#947" class="Function">[</a> <a id="2571" href="Text.Pretty.Core.html#2571" class="Bound">n</a> <a id="2573" href="Data.Refinement.html#947" class="Function">∈</a> <a id="2575" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2577" href="Data.Refinement.html#947" class="Function">∣</a> <a id="2579" href="Text.Pretty.Core.html#2458" class="Field">lastWidth</a> <a id="2589" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="2591" href="Text.Pretty.Core.html#2571" class="Bound">n</a> <a id="2593" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2595" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="2600" href="Text.Pretty.Core.html#2571" class="Bound">n</a> <a id="2602" class="Symbol">(</a><a id="2603" href="Text.Pretty.Core.html#2391" class="Field">block</a> <a id="2609" class="Symbol">.</a><a id="2610" href="Data.Refinement.html#653" class="Field">value</a><a id="2615" class="Symbol">)</a> <a id="2617" href="Data.Refinement.html#947" class="Function">]</a>

<a id="2620" class="Comment">------------------------------------------------------------------------</a>
<a id="2693" class="Comment">-- Raw string</a>

<a id="text"></a><a id="2708" href="Text.Pretty.Core.html#2708" class="Function">text</a> <a id="2713" class="Symbol">:</a> <a id="2715" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2722" class="Symbol">→</a> <a id="2724" href="Text.Pretty.Core.html#2343" class="Record">Block</a>
<a id="2730" href="Text.Pretty.Core.html#2708" class="Function">text</a> <a id="2735" href="Text.Pretty.Core.html#2735" class="Bound">s</a> <a id="2737" class="Symbol">=</a> <a id="2739" class="Keyword">record</a>
  <a id="2748" class="Symbol">{</a> <a id="2750" href="Text.Pretty.Core.html#2373" class="Field">height</a>    <a id="2760" class="Symbol">=</a> <a id="2762" class="Number">0</a>
  <a id="2766" class="Symbol">;</a> <a id="2768" href="Text.Pretty.Core.html#2391" class="Field">block</a>     <a id="2778" class="Symbol">=</a> <a id="2780" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2788" href="Data.Refinement.html#641" class="InductiveConstructor Operator">,</a> <a id="2790" class="Symbol">⦇</a> <a id="2792" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2797" class="Symbol">⦈</a>
  <a id="2801" class="Symbol">;</a> <a id="2803" href="Text.Pretty.Core.html#2458" class="Field">lastWidth</a> <a id="2813" class="Symbol">=</a> <a id="2815" href="Text.Pretty.Core.html#2907" class="Function">width</a>
  <a id="2823" class="Symbol">;</a> <a id="2825" href="Text.Pretty.Core.html#2476" class="Field">last</a>      <a id="2835" class="Symbol">=</a> <a id="2837" href="Text.Pretty.Core.html#2735" class="Bound">s</a> <a id="2839" href="Data.Refinement.html#641" class="InductiveConstructor Operator">,</a> <a id="2841" class="Symbol">⦇</a> <a id="2843" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2848" class="Symbol">⦈</a>
  <a id="2852" class="Symbol">;</a> <a id="2854" href="Text.Pretty.Core.html#2557" class="Field">maxWidth</a>  <a id="2864" class="Symbol">=</a> <a id="2866" href="Text.Pretty.Core.html#2907" class="Function">width</a> <a id="2872" href="Data.Refinement.html#641" class="InductiveConstructor Operator">,</a> <a id="2874" class="Symbol">⦇</a> <a id="2876" class="Symbol">(</a><a id="2877" href="Data.Nat.Properties.html#4946" class="Function">≤-refl</a> <a id="2884" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2886" href="Data.Maybe.Relation.Unary.All.html#1057" class="InductiveConstructor">nothing</a><a id="2893" class="Symbol">)</a> <a id="2895" class="Symbol">⦈</a>
  <a id="2899" class="Symbol">}</a> <a id="2901" class="Keyword">where</a> <a id="2907" href="Text.Pretty.Core.html#2907" class="Function">width</a> <a id="2913" class="Symbol">=</a> <a id="2915" href="Data.String.Base.html#2464" class="Function">length</a> <a id="2922" href="Text.Pretty.Core.html#2735" class="Bound">s</a><a id="2923" class="Symbol">;</a> <a id="2925" class="Keyword">open</a> <a id="2930" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

<a id="2942" class="Comment">------------------------------------------------------------------------</a>
<a id="3015" class="Comment">-- Empty</a>

<a id="empty"></a><a id="3025" href="Text.Pretty.Core.html#3025" class="Function">empty</a> <a id="3031" class="Symbol">:</a> <a id="3033" href="Text.Pretty.Core.html#2343" class="Record">Block</a>
<a id="3039" href="Text.Pretty.Core.html#3025" class="Function">empty</a> <a id="3045" class="Symbol">=</a> <a id="3047" href="Text.Pretty.Core.html#2708" class="Function">text</a> <a id="3052" class="String">&quot;&quot;</a>

<a id="3056" class="Comment">------------------------------------------------------------------------</a>
<a id="3129" class="Comment">-- Helper functions</a>

<a id="node?"></a><a id="3150" href="Text.Pretty.Core.html#3150" class="Function">node?</a> <a id="3156" class="Symbol">:</a> <a id="3158" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="3166" class="Symbol">→</a> <a id="3168" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="3175" class="Symbol">→</a> <a id="3177" href="Data.Tree.Binary.html#700" class="Datatype">Tree</a> <a id="3182" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="3189" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="3191" class="Symbol">→</a> <a id="3193" href="Text.Pretty.Core.html#2062" class="Function">Content</a>
<a id="3201" href="Text.Pretty.Core.html#3150" class="Function">node?</a> <a id="3207" class="Symbol">(</a><a id="3208" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3213" class="Symbol">(</a><a id="3214" href="Text.Pretty.Core.html#3214" class="Bound">x</a> <a id="3216" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3218" href="Text.Pretty.Core.html#3218" class="Bound">xs</a><a id="3220" class="Symbol">))</a> <a id="3223" href="Text.Pretty.Core.html#3223" class="Bound">y</a> <a id="3225" href="Text.Pretty.Core.html#3225" class="Bound">ys</a> <a id="3228" class="Symbol">=</a> <a id="3230" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3235" class="Symbol">(</a><a id="3236" href="Text.Pretty.Core.html#3214" class="Bound">x</a> <a id="3238" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3240" href="Data.Tree.Binary.html#773" class="InductiveConstructor">node</a> <a id="3245" href="Text.Pretty.Core.html#3218" class="Bound">xs</a> <a id="3248" href="Text.Pretty.Core.html#3223" class="Bound">y</a> <a id="3250" href="Text.Pretty.Core.html#3225" class="Bound">ys</a><a id="3252" class="Symbol">)</a>
<a id="3254" href="Text.Pretty.Core.html#3150" class="Function">node?</a> <a id="3260" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>         <a id="3276" href="Text.Pretty.Core.html#3276" class="Bound">y</a> <a id="3278" href="Text.Pretty.Core.html#3278" class="Bound">ys</a> <a id="3281" class="Symbol">=</a> <a id="3283" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3288" class="Symbol">(</a><a id="3289" href="Text.Pretty.Core.html#3276" class="Bound">y</a> <a id="3291" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3293" href="Text.Pretty.Core.html#3278" class="Bound">ys</a><a id="3295" class="Symbol">)</a>

<a id="∣node?∣"></a><a id="3298" href="Text.Pretty.Core.html#3298" class="Function">∣node?∣</a> <a id="3306" class="Symbol">:</a> <a id="3308" class="Symbol">∀</a> <a id="3310" href="Text.Pretty.Core.html#3310" class="Bound">b</a> <a id="3312" href="Text.Pretty.Core.html#3312" class="Bound">y</a> <a id="3314" href="Text.Pretty.Core.html#3314" class="Bound">ys</a> <a id="3317" class="Symbol">→</a> <a id="3319" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="3324" class="Symbol">(</a><a id="3325" href="Text.Pretty.Core.html#3150" class="Function">node?</a> <a id="3331" href="Text.Pretty.Core.html#3310" class="Bound">b</a> <a id="3333" href="Text.Pretty.Core.html#3312" class="Bound">y</a> <a id="3335" href="Text.Pretty.Core.html#3314" class="Bound">ys</a><a id="3337" class="Symbol">)</a>
                   <a id="3358" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3360" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="3365" href="Text.Pretty.Core.html#3310" class="Bound">b</a> <a id="3367" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3369" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3373" class="Symbol">(</a><a id="3374" href="Data.Tree.Binary.html#1083" class="Function">#nodes</a> <a id="3381" href="Text.Pretty.Core.html#3314" class="Bound">ys</a><a id="3383" class="Symbol">)</a>
<a id="3385" href="Text.Pretty.Core.html#3298" class="Function">∣node?∣</a> <a id="3393" class="Symbol">(</a><a id="3394" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3399" class="Symbol">(</a><a id="3400" href="Text.Pretty.Core.html#3400" class="Bound">x</a> <a id="3402" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3404" href="Text.Pretty.Core.html#3404" class="Bound">xs</a><a id="3406" class="Symbol">))</a> <a id="3409" href="Text.Pretty.Core.html#3409" class="Bound">y</a> <a id="3411" href="Text.Pretty.Core.html#3411" class="Bound">ys</a> <a id="3414" class="Symbol">=</a> <a id="3416" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="3421" href="Text.Pretty.Core.html#3298" class="Function">∣node?∣</a> <a id="3429" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>         <a id="3445" href="Text.Pretty.Core.html#3445" class="Bound">y</a> <a id="3447" href="Text.Pretty.Core.html#3447" class="Bound">ys</a> <a id="3450" class="Symbol">=</a> <a id="3452" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="≤-Content"></a><a id="3458" href="Text.Pretty.Core.html#3458" class="Function">≤-Content</a> <a id="3468" class="Symbol">:</a> <a id="3470" class="Symbol">∀</a> <a id="3472" class="Symbol">{</a><a id="3473" href="Text.Pretty.Core.html#3473" class="Bound">m</a> <a id="3475" href="Text.Pretty.Core.html#3475" class="Bound">n</a><a id="3476" class="Symbol">}</a> <a id="3478" class="Symbol">{</a><a id="3479" href="Text.Pretty.Core.html#3479" class="Bound">b</a> <a id="3481" class="Symbol">:</a> <a id="3483" href="Text.Pretty.Core.html#2062" class="Function">Content</a><a id="3490" class="Symbol">}</a> <a id="3492" class="Symbol">→</a> <a id="3494" href="Text.Pretty.Core.html#3473" class="Bound">m</a> <a id="3496" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="3498" href="Text.Pretty.Core.html#3475" class="Bound">n</a> <a id="3500" class="Symbol">→</a> <a id="3502" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="3507" href="Text.Pretty.Core.html#3473" class="Bound">m</a> <a id="3509" href="Text.Pretty.Core.html#3479" class="Bound">b</a> <a id="3511" class="Symbol">→</a> <a id="3513" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="3518" href="Text.Pretty.Core.html#3475" class="Bound">n</a> <a id="3520" href="Text.Pretty.Core.html#3479" class="Bound">b</a>
<a id="3522" href="Text.Pretty.Core.html#3458" class="Function">≤-Content</a> <a id="3532" class="Symbol">{</a><a id="3533" href="Text.Pretty.Core.html#3533" class="Bound">m</a><a id="3534" class="Symbol">}</a> <a id="3536" class="Symbol">{</a><a id="3537" href="Text.Pretty.Core.html#3537" class="Bound">n</a><a id="3538" class="Symbol">}</a> <a id="3540" href="Text.Pretty.Core.html#3540" class="Bound">m≤n</a> <a id="3544" class="Symbol">=</a> <a id="3546" href="Data.Maybe.Relation.Unary.All.html#1389" class="Function">Allᴹ.map</a> <a id="3555" class="Symbol">(</a><a id="3556" href="Data.Product.Base.html#2173" class="Function">Prod.map</a> <a id="3565" href="Text.Pretty.Core.html#3600" class="Function">step</a> <a id="3570" class="Symbol">(</a><a id="3571" href="Data.Tree.Binary.Relation.Unary.All.html#998" class="Function">Allᵀ.mapₙ</a> <a id="3581" href="Text.Pretty.Core.html#3600" class="Function">step</a><a id="3585" class="Symbol">))</a>

  <a id="3591" class="Keyword">where</a>

  <a id="3600" href="Text.Pretty.Core.html#3600" class="Function">step</a> <a id="3605" class="Symbol">:</a> <a id="3607" class="Symbol">∀</a> <a id="3609" class="Symbol">{</a><a id="3610" href="Text.Pretty.Core.html#3610" class="Bound">p</a><a id="3611" class="Symbol">}</a> <a id="3613" class="Symbol">→</a> <a id="3615" href="Text.Pretty.Core.html#3610" class="Bound">p</a> <a id="3617" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="3619" href="Text.Pretty.Core.html#3533" class="Bound">m</a> <a id="3621" class="Symbol">→</a> <a id="3623" href="Text.Pretty.Core.html#3610" class="Bound">p</a> <a id="3625" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="3627" href="Text.Pretty.Core.html#3537" class="Bound">n</a>
  <a id="3631" href="Text.Pretty.Core.html#3600" class="Function">step</a> <a id="3636" class="Symbol">=</a> <a id="3638" href="Function.Base.html#1638" class="Function">flip</a> <a id="3643" href="Data.Nat.Properties.html#5129" class="Function">≤-trans</a> <a id="3651" href="Text.Pretty.Core.html#3540" class="Bound">m≤n</a>

<a id="All≤-node?"></a><a id="3656" href="Text.Pretty.Core.html#3656" class="Function">All≤-node?</a> <a id="3667" class="Symbol">:</a> <a id="3669" class="Symbol">∀</a> <a id="3671" class="Symbol">{</a><a id="3672" href="Text.Pretty.Core.html#3672" class="Bound">l</a> <a id="3674" href="Text.Pretty.Core.html#3674" class="Bound">m</a> <a id="3676" href="Text.Pretty.Core.html#3676" class="Bound">r</a> <a id="3678" href="Text.Pretty.Core.html#3678" class="Bound">n</a><a id="3679" class="Symbol">}</a> <a id="3681" class="Symbol">→</a>
             <a id="3696" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="3701" href="Text.Pretty.Core.html#3678" class="Bound">n</a> <a id="3703" href="Text.Pretty.Core.html#3672" class="Bound">l</a> <a id="3705" class="Symbol">→</a> <a id="3707" href="Data.String.Base.html#2464" class="Function">length</a> <a id="3714" href="Text.Pretty.Core.html#3674" class="Bound">m</a> <a id="3716" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="3718" href="Text.Pretty.Core.html#3678" class="Bound">n</a> <a id="3720" class="Symbol">→</a> <a id="3722" href="Data.Tree.Binary.Relation.Unary.All.html#638" class="Datatype">Allᵀ.All</a> <a id="3731" class="Symbol">(λ</a> <a id="3734" href="Text.Pretty.Core.html#3734" class="Bound">s</a> <a id="3736" class="Symbol">→</a> <a id="3738" href="Data.String.Base.html#2464" class="Function">length</a> <a id="3745" href="Text.Pretty.Core.html#3734" class="Bound">s</a> <a id="3747" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="3749" href="Text.Pretty.Core.html#3678" class="Bound">n</a><a id="3750" class="Symbol">)</a> <a id="3752" href="Relation.Unary.html#1522" class="Function">U</a> <a id="3754" href="Text.Pretty.Core.html#3676" class="Bound">r</a> <a id="3756" class="Symbol">→</a>
             <a id="3771" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="3776" href="Text.Pretty.Core.html#3678" class="Bound">n</a> <a id="3778" class="Symbol">(</a><a id="3779" href="Text.Pretty.Core.html#3150" class="Function">node?</a> <a id="3785" href="Text.Pretty.Core.html#3672" class="Bound">l</a> <a id="3787" href="Text.Pretty.Core.html#3674" class="Bound">m</a> <a id="3789" href="Text.Pretty.Core.html#3676" class="Bound">r</a><a id="3790" class="Symbol">)</a>
<a id="3792" href="Text.Pretty.Core.html#3656" class="Function">All≤-node?</a> <a id="3803" href="Data.Maybe.Relation.Unary.All.html#1057" class="InductiveConstructor">nothing</a>           <a id="3821" href="Text.Pretty.Core.html#3821" class="Bound">py</a> <a id="3824" href="Text.Pretty.Core.html#3824" class="Bound">pys</a> <a id="3828" class="Symbol">=</a> <a id="3830" href="Data.Maybe.Relation.Unary.All.html#1016" class="InductiveConstructor">just</a> <a id="3835" class="Symbol">(</a><a id="3836" href="Text.Pretty.Core.html#3821" class="Bound">py</a> <a id="3839" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3841" href="Text.Pretty.Core.html#3824" class="Bound">pys</a><a id="3844" class="Symbol">)</a>
<a id="3846" href="Text.Pretty.Core.html#3656" class="Function">All≤-node?</a> <a id="3857" class="Symbol">(</a><a id="3858" href="Data.Maybe.Relation.Unary.All.html#1016" class="InductiveConstructor">just</a> <a id="3863" class="Symbol">(</a><a id="3864" href="Text.Pretty.Core.html#3864" class="Bound">px</a> <a id="3867" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3869" href="Text.Pretty.Core.html#3869" class="Bound">pxs</a><a id="3872" class="Symbol">))</a> <a id="3875" href="Text.Pretty.Core.html#3875" class="Bound">py</a> <a id="3878" href="Text.Pretty.Core.html#3878" class="Bound">pys</a> <a id="3882" class="Symbol">=</a> <a id="3884" href="Data.Maybe.Relation.Unary.All.html#1016" class="InductiveConstructor">just</a> <a id="3889" class="Symbol">(</a><a id="3890" href="Text.Pretty.Core.html#3864" class="Bound">px</a> <a id="3893" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3895" href="Data.Tree.Binary.Relation.Unary.All.html#779" class="InductiveConstructor">node</a> <a id="3900" href="Text.Pretty.Core.html#3869" class="Bound">pxs</a> <a id="3904" href="Text.Pretty.Core.html#3875" class="Bound">py</a> <a id="3907" href="Text.Pretty.Core.html#3878" class="Bound">pys</a><a id="3910" class="Symbol">)</a>

<a id="3913" class="Comment">------------------------------------------------------------------------</a>
<a id="3986" class="Comment">-- Appending two documents</a>

<a id="4014" class="Keyword">private</a>
  <a id="4024" class="Keyword">module</a> <a id="append"></a><a id="4031" href="Text.Pretty.Core.html#4031" class="Module">append</a> <a id="4038" class="Symbol">(</a><a id="4039" href="Text.Pretty.Core.html#4039" class="Bound">x</a> <a id="4041" href="Text.Pretty.Core.html#4041" class="Bound">y</a> <a id="4043" class="Symbol">:</a> <a id="4045" href="Text.Pretty.Core.html#2343" class="Record">Block</a><a id="4050" class="Symbol">)</a> <a id="4052" class="Keyword">where</a>

    <a id="4063" class="Keyword">module</a> <a id="append.x"></a><a id="4070" href="Text.Pretty.Core.html#4070" class="Module">x</a> <a id="4072" class="Symbol">=</a> <a id="4074" href="Text.Pretty.Core.html#2343" class="Module">Block</a> <a id="4080" href="Text.Pretty.Core.html#4039" class="Bound">x</a>
    <a id="4086" class="Keyword">module</a> <a id="append.y"></a><a id="4093" href="Text.Pretty.Core.html#4093" class="Module">y</a> <a id="4095" class="Symbol">=</a> <a id="4097" href="Text.Pretty.Core.html#2343" class="Module">Block</a> <a id="4103" href="Text.Pretty.Core.html#4041" class="Bound">y</a>

    <a id="append.blockx"></a><a id="4110" href="Text.Pretty.Core.html#4110" class="Function">blockx</a> <a id="4117" class="Symbol">=</a> <a id="4119" href="Text.Pretty.Core.html#2391" class="Function">x.block</a> <a id="4127" class="Symbol">.</a><a id="4128" href="Data.Refinement.html#653" class="Field">value</a>
    <a id="append.blocky"></a><a id="4138" href="Text.Pretty.Core.html#4138" class="Function">blocky</a> <a id="4145" class="Symbol">=</a> <a id="4147" href="Text.Pretty.Core.html#2391" class="Field">y.block</a> <a id="4155" class="Symbol">.</a><a id="4156" href="Data.Refinement.html#653" class="Field">value</a>

    <a id="append.widthx"></a><a id="4167" href="Text.Pretty.Core.html#4167" class="Function">widthx</a> <a id="4174" class="Symbol">=</a> <a id="4176" href="Text.Pretty.Core.html#2557" class="Function">x.maxWidth</a> <a id="4187" class="Symbol">.</a><a id="4188" href="Data.Refinement.html#653" class="Field">value</a>
    <a id="append.widthy"></a><a id="4198" href="Text.Pretty.Core.html#4198" class="Function">widthy</a> <a id="4205" class="Symbol">=</a> <a id="4207" href="Text.Pretty.Core.html#2557" class="Field">y.maxWidth</a> <a id="4218" class="Symbol">.</a><a id="4219" href="Data.Refinement.html#653" class="Field">value</a>

    <a id="append.lastx"></a><a id="4230" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="4236" class="Symbol">=</a> <a id="4238" href="Text.Pretty.Core.html#2476" class="Function">x.last</a> <a id="4245" class="Symbol">.</a><a id="4246" href="Data.Refinement.html#653" class="Field">value</a>
    <a id="append.lasty"></a><a id="4256" href="Text.Pretty.Core.html#4256" class="Function">lasty</a> <a id="4262" class="Symbol">=</a> <a id="4264" href="Text.Pretty.Core.html#2476" class="Field">y.last</a> <a id="4271" class="Symbol">.</a><a id="4272" href="Data.Refinement.html#653" class="Field">value</a>

    <a id="append.height"></a><a id="4283" href="Text.Pretty.Core.html#4283" class="Function">height</a> <a id="4290" class="Symbol">:</a> <a id="4292" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="4298" href="Text.Pretty.Core.html#4283" class="Function">height</a> <a id="4305" class="Symbol">=</a> <a id="4307" class="Symbol">(</a><a id="4308" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="4312" href="Function.Base.html#6197" class="Function Operator">on</a> <a id="4315" href="Text.Pretty.Core.html#2373" class="Field">Block.height</a><a id="4327" class="Symbol">)</a> <a id="4329" href="Text.Pretty.Core.html#4039" class="Bound">x</a> <a id="4331" href="Text.Pretty.Core.html#4041" class="Bound">y</a>

    <a id="append.lastWidth"></a><a id="4338" href="Text.Pretty.Core.html#4338" class="Function">lastWidth</a> <a id="4348" class="Symbol">:</a> <a id="4350" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="4356" href="Text.Pretty.Core.html#4338" class="Function">lastWidth</a> <a id="4366" class="Symbol">=</a> <a id="4368" class="Symbol">(</a><a id="4369" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="4373" href="Function.Base.html#6197" class="Function Operator">on</a> <a id="4376" href="Text.Pretty.Core.html#2458" class="Field">Block.lastWidth</a><a id="4391" class="Symbol">)</a> <a id="4393" href="Text.Pretty.Core.html#4039" class="Bound">x</a> <a id="4395" href="Text.Pretty.Core.html#4041" class="Bound">y</a>

    <a id="append.pad"></a><a id="4402" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="4406" class="Symbol">:</a> <a id="4408" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4414" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
    <a id="4425" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="4429" class="Keyword">with</a> <a id="4434" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a>
    <a id="4450" href="Text.Pretty.Core.html#4402" class="Function">...</a> <a id="4454" class="Symbol">|</a> <a id="4456" class="Number">0</a> <a id="4458" class="Symbol">=</a> <a id="4460" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="4472" href="Text.Pretty.Core.html#4402" class="CatchallClause Function">...</a><a id="4475" class="CatchallClause"> </a><a id="4476" class="CatchallClause Symbol">|</a><a id="4477" class="CatchallClause"> </a><a id="4478" href="Text.Pretty.Core.html#4478" class="CatchallClause Bound">l</a> <a id="4480" class="Symbol">=</a> <a id="4482" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4487" class="Symbol">(</a><a id="4488" href="Data.String.Base.html#2515" class="Function">replicate</a> <a id="4498" href="Text.Pretty.Core.html#4478" class="Bound">l</a> <a id="4500" class="String">&#39; &#39;</a><a id="4503" class="Symbol">)</a>

    <a id="append.size-pad"></a><a id="4510" href="Text.Pretty.Core.html#4510" class="Function">size-pad</a> <a id="4519" class="Symbol">:</a> <a id="4521" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="4528" href="Data.String.Base.html#2464" class="Function">length</a> <a id="4535" class="Number">0</a> <a id="4537" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="4541" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4543" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a>
    <a id="4559" href="Text.Pretty.Core.html#4510" class="Function">size-pad</a> <a id="4568" class="Keyword">with</a> <a id="4573" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a>
    <a id="4589" href="Text.Pretty.Core.html#4510" class="Function">...</a> <a id="4593" class="Symbol">|</a> <a id="4595" class="Number">0</a>         <a id="4605" class="Symbol">=</a> <a id="4607" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="4616" href="Text.Pretty.Core.html#4510" class="Function">...</a> <a id="4620" class="Symbol">|</a> <a id="4622" href="Text.Pretty.Core.html#4622" class="Bound">l</a><a id="4623" class="Symbol">@(</a><a id="4625" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4629" class="Symbol">_)</a> <a id="4632" class="Symbol">=</a> <a id="4634" href="Data.String.Unsafe.html#1567" class="Function">length-replicate</a> <a id="4651" href="Text.Pretty.Core.html#4622" class="Bound">l</a>

    <a id="append.indent"></a><a id="4658" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="4665" class="Symbol">:</a> <a id="4667" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4673" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="4680" class="Symbol">→</a> <a id="4682" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="4689" class="Symbol">→</a> <a id="4691" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
    <a id="4702" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="4709" class="Symbol">=</a> <a id="4711" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="4718" href="Data.String.Base.html#2400" class="Function Operator">_++_</a> <a id="4723" href="Function.Base.html#704" class="Function">id</a>

    <a id="append.size-indent"></a><a id="4731" href="Text.Pretty.Core.html#4731" class="Function">size-indent</a> <a id="4743" class="Symbol">:</a> <a id="4745" class="Symbol">∀</a> <a id="4747" href="Text.Pretty.Core.html#4747" class="Bound">ma</a> <a id="4750" href="Text.Pretty.Core.html#4750" class="Bound">str</a> <a id="4754" class="Symbol">→</a> <a id="4756" href="Data.String.Base.html#2464" class="Function">length</a> <a id="4763" class="Symbol">(</a><a id="4764" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="4771" href="Text.Pretty.Core.html#4747" class="Bound">ma</a> <a id="4774" href="Text.Pretty.Core.html#4750" class="Bound">str</a><a id="4777" class="Symbol">)</a>
                <a id="4795" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4797" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="4804" href="Data.String.Base.html#2464" class="Function">length</a> <a id="4811" class="Number">0</a> <a id="4813" href="Text.Pretty.Core.html#4747" class="Bound">ma</a> <a id="4816" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="4818" href="Data.String.Base.html#2464" class="Function">length</a> <a id="4825" href="Text.Pretty.Core.html#4750" class="Bound">str</a>
    <a id="4833" href="Text.Pretty.Core.html#4731" class="Function">size-indent</a> <a id="4845" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>    <a id="4856" href="Text.Pretty.Core.html#4856" class="Bound">str</a> <a id="4860" class="Symbol">=</a> <a id="4862" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="4871" href="Text.Pretty.Core.html#4731" class="Function">size-indent</a> <a id="4883" class="Symbol">(</a><a id="4884" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4889" href="Text.Pretty.Core.html#4889" class="Bound">pad</a><a id="4892" class="Symbol">)</a> <a id="4894" href="Text.Pretty.Core.html#4894" class="Bound">str</a> <a id="4898" class="Symbol">=</a> <a id="4900" href="Data.String.Unsafe.html#1242" class="Function">length-++</a> <a id="4910" href="Text.Pretty.Core.html#4889" class="Bound">pad</a> <a id="4914" href="Text.Pretty.Core.html#4894" class="Bound">str</a>

    <a id="append.indents"></a><a id="4923" href="Text.Pretty.Core.html#4923" class="Function">indents</a> <a id="4931" class="Symbol">:</a> <a id="4933" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4939" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="4946" class="Symbol">→</a> <a id="4948" href="Data.Tree.Binary.html#700" class="Datatype">Tree</a> <a id="4953" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="4960" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="4962" class="Symbol">→</a> <a id="4964" href="Data.Tree.Binary.html#700" class="Datatype">Tree</a> <a id="4969" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="4976" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="4982" href="Text.Pretty.Core.html#4923" class="Function">indents</a> <a id="4990" class="Symbol">=</a> <a id="4992" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="4999" class="Symbol">(</a><a id="5000" href="Data.Tree.Binary.html#959" class="Function">mapₙ</a> <a id="5005" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5007" href="Data.String.Base.html#2400" class="Function Operator">_++_</a><a id="5011" class="Symbol">)</a> <a id="5013" href="Function.Base.html#704" class="Function">id</a>

    <a id="append.size-indents"></a><a id="5021" href="Text.Pretty.Core.html#5021" class="Function">size-indents</a> <a id="5034" class="Symbol">:</a> <a id="5036" class="Symbol">∀</a> <a id="5038" href="Text.Pretty.Core.html#5038" class="Bound">ma</a> <a id="5041" href="Text.Pretty.Core.html#5041" class="Bound">t</a> <a id="5043" class="Symbol">→</a> <a id="5045" href="Data.Tree.Binary.html#1083" class="Function">#nodes</a> <a id="5052" class="Symbol">(</a><a id="5053" href="Text.Pretty.Core.html#4923" class="Function">indents</a> <a id="5061" href="Text.Pretty.Core.html#5038" class="Bound">ma</a> <a id="5064" href="Text.Pretty.Core.html#5041" class="Bound">t</a><a id="5065" class="Symbol">)</a> <a id="5067" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5069" href="Data.Tree.Binary.html#1083" class="Function">#nodes</a> <a id="5076" href="Text.Pretty.Core.html#5041" class="Bound">t</a>
    <a id="5082" href="Text.Pretty.Core.html#5021" class="Function">size-indents</a> <a id="5095" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>    <a id="5106" href="Text.Pretty.Core.html#5106" class="Bound">t</a> <a id="5108" class="Symbol">=</a> <a id="5110" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="5119" href="Text.Pretty.Core.html#5021" class="Function">size-indents</a> <a id="5132" class="Symbol">(</a><a id="5133" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5138" href="Text.Pretty.Core.html#5138" class="Bound">pad</a><a id="5141" class="Symbol">)</a> <a id="5143" href="Text.Pretty.Core.html#5143" class="Bound">t</a> <a id="5145" class="Symbol">=</a> <a id="5147" href="Data.Tree.Binary.Properties.html#932" class="Function">Treeₚ.#nodes-mapₙ</a> <a id="5165" class="Symbol">(</a><a id="5166" href="Text.Pretty.Core.html#5138" class="Bound">pad</a> <a id="5170" href="Data.String.Base.html#2400" class="Function Operator">++_</a><a id="5173" class="Symbol">)</a> <a id="5175" href="Text.Pretty.Core.html#5143" class="Bound">t</a>

    <a id="append.unfold-indents"></a><a id="5182" href="Text.Pretty.Core.html#5182" class="Function">unfold-indents</a> <a id="5197" class="Symbol">:</a> <a id="5199" class="Symbol">∀</a> <a id="5201" href="Text.Pretty.Core.html#5201" class="Bound">ma</a> <a id="5204" href="Text.Pretty.Core.html#5204" class="Bound">t</a> <a id="5206" class="Symbol">→</a> <a id="5208" href="Text.Pretty.Core.html#4923" class="Function">indents</a> <a id="5216" href="Text.Pretty.Core.html#5201" class="Bound">ma</a> <a id="5219" href="Text.Pretty.Core.html#5204" class="Bound">t</a> <a id="5221" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5223" href="Data.Tree.Binary.html#959" class="Function">mapₙ</a> <a id="5228" class="Symbol">(</a><a id="5229" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="5236" href="Text.Pretty.Core.html#5201" class="Bound">ma</a><a id="5238" class="Symbol">)</a> <a id="5240" href="Text.Pretty.Core.html#5204" class="Bound">t</a>
    <a id="5246" href="Text.Pretty.Core.html#5182" class="Function">unfold-indents</a> <a id="5261" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>    <a id="5272" href="Text.Pretty.Core.html#5272" class="Bound">t</a> <a id="5274" class="Symbol">=</a> <a id="5276" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="5280" class="Symbol">(</a><a id="5281" href="Data.Tree.Binary.Properties.html#1564" class="Function">Treeₚ.map-id</a> <a id="5294" href="Text.Pretty.Core.html#5272" class="Bound">t</a><a id="5295" class="Symbol">)</a>
    <a id="5301" href="Text.Pretty.Core.html#5182" class="Function">unfold-indents</a> <a id="5316" class="Symbol">(</a><a id="5317" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5322" href="Text.Pretty.Core.html#5322" class="Bound">pad</a><a id="5325" class="Symbol">)</a> <a id="5327" href="Text.Pretty.Core.html#5327" class="Bound">t</a> <a id="5329" class="Symbol">=</a> <a id="5331" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

    <a id="append.vContent"></a><a id="5341" href="Text.Pretty.Core.html#5341" class="Function">vContent</a> <a id="5350" class="Symbol">:</a> <a id="5352" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="5360" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5362" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
    <a id="5373" href="Text.Pretty.Core.html#5341" class="Function">vContent</a> <a id="5382" class="Keyword">with</a> <a id="5387" href="Text.Pretty.Core.html#4138" class="Function">blocky</a>
    <a id="5398" href="Text.Pretty.Core.html#5341" class="Function">...</a> <a id="5402" class="Symbol">|</a> <a id="5404" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>        <a id="5419" class="Symbol">=</a> <a id="5421" href="Text.Pretty.Core.html#4110" class="Function">blockx</a>
                         <a id="5453" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5455" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="5461" href="Data.String.Base.html#2400" class="Function Operator">++</a> <a id="5464" href="Text.Pretty.Core.html#4256" class="Function">lasty</a>
    <a id="5474" href="Text.Pretty.Core.html#5341" class="Function">...</a> <a id="5478" class="Symbol">|</a> <a id="5480" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5485" class="Symbol">(</a><a id="5486" href="Text.Pretty.Core.html#5486" class="Bound">hd</a> <a id="5489" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5491" href="Text.Pretty.Core.html#5491" class="Bound">tl</a><a id="5493" class="Symbol">)</a> <a id="5495" class="Symbol">=</a> <a id="5497" href="Text.Pretty.Core.html#3150" class="Function">node?</a>
      <a id="5509" class="Comment">{-,--------------,-}</a>
      <a id="5536" class="Comment">{-|-}</a> <a id="5542" href="Text.Pretty.Core.html#4110" class="Function">blockx</a>   <a id="5551" class="Comment">{-|-}</a>
      <a id="5563" class="Comment">{-|-}</a>          <a id="5578" class="Comment">{-&#39;---,-}</a>    <a id="5591" class="Comment">{-,------------------,-}</a>
      <a id="5622" class="Comment">{-|-}</a> <a id="5628" class="Symbol">(</a><a id="5629" href="Text.Pretty.Core.html#4230" class="Function">lastx</a>       <a id="5641" class="Comment">{-|-}</a> <a id="5647" href="Data.String.Base.html#2400" class="Function Operator">++</a> <a id="5650" class="Comment">{-|-}</a>  <a id="5657" href="Text.Pretty.Core.html#5486" class="Bound">hd</a><a id="5659" class="Symbol">)</a>         <a id="5669" class="Comment">{-|-}</a>
      <a id="5681" class="Comment">{-&#39;------------------&#39;-}</a>    <a id="5709" class="Comment">{-|-}</a>              <a id="5728" class="Comment">{-|-}</a>
      <a id="5740" class="Symbol">(</a><a id="5741" href="Text.Pretty.Core.html#4923" class="Function">indents</a> <a id="5749" href="Text.Pretty.Core.html#4402" class="Function">pad</a>                <a id="5768" class="Comment">{-|-}</a>  <a id="5775" href="Text.Pretty.Core.html#5491" class="Bound">tl</a><a id="5777" class="Symbol">)</a>    <a id="5782" class="Comment">{-,----&#39;-}</a>
      <a id="5799" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5801" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="5808" href="Text.Pretty.Core.html#4402" class="Function">pad</a>                <a id="5827" class="Comment">{-|-}</a> <a id="5833" href="Text.Pretty.Core.html#4256" class="Function">lasty</a>   <a id="5841" class="Comment">{-|-}</a>
                                  <a id="5881" class="Comment">{-&#39;-------------&#39;-}</a>

    <a id="append.vBlock"></a><a id="5906" href="Text.Pretty.Core.html#5906" class="Function">vBlock</a> <a id="5913" class="Symbol">=</a> <a id="5915" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="5921" href="Text.Pretty.Core.html#5341" class="Function">vContent</a>
    <a id="append.vLast"></a><a id="5934" href="Text.Pretty.Core.html#5934" class="Function">vLast</a>  <a id="5941" class="Symbol">=</a> <a id="5943" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="5949" href="Text.Pretty.Core.html#5341" class="Function">vContent</a>

    <a id="append.isBlock"></a><a id="5963" href="Text.Pretty.Core.html#5963" class="Function">isBlock</a> <a id="5971" class="Symbol">:</a> <a id="5973" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="5978" href="Text.Pretty.Core.html#4110" class="Function">blockx</a> <a id="5985" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5987" href="Text.Pretty.Core.html#2373" class="Function">x.height</a> <a id="5996" class="Symbol">→</a> <a id="5998" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="6003" href="Text.Pretty.Core.html#4138" class="Function">blocky</a> <a id="6010" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6012" href="Text.Pretty.Core.html#2373" class="Field">y.height</a> <a id="6021" class="Symbol">→</a>
              <a id="6037" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="6042" href="Text.Pretty.Core.html#5906" class="Function">vBlock</a> <a id="6049" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6051" href="Text.Pretty.Core.html#4283" class="Function">height</a>
    <a id="6062" href="Text.Pretty.Core.html#5963" class="Function">isBlock</a> <a id="6070" href="Text.Pretty.Core.html#6070" class="Bound">∣x∣</a> <a id="6074" href="Text.Pretty.Core.html#6074" class="Bound">∣y∣</a> <a id="6078" class="Keyword">with</a> <a id="6083" href="Text.Pretty.Core.html#4138" class="Function">blocky</a>
    <a id="6094" class="Symbol">...</a> <a id="6098" class="Symbol">|</a> <a id="6100" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>        <a id="6115" class="Symbol">=</a> <a id="6117" href="Relation.Binary.PropositionalEquality.Core.html#2834" class="Function Operator">begin</a>
      <a id="6129" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="6134" href="Text.Pretty.Core.html#4110" class="Function">blockx</a>         <a id="6149" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">≡⟨</a> <a id="6152" class="Bound">∣x∣</a> <a id="6156" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">⟩</a>
      <a id="6164" href="Text.Pretty.Core.html#2373" class="Function">x.height</a>            <a id="6184" href="Relation.Binary.PropositionalEquality.Core.html#3038" class="Function">≡˘⟨</a> <a id="6188" href="Data.Nat.Properties.html#14392" class="Function">+-identityʳ</a> <a id="6200" href="Text.Pretty.Core.html#2373" class="Function">x.height</a> <a id="6209" href="Relation.Binary.PropositionalEquality.Core.html#3038" class="Function">⟩</a>
      <a id="6217" href="Text.Pretty.Core.html#2373" class="Function">x.height</a> <a id="6226" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="6228" class="Number">0</a>        <a id="6237" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">≡⟨</a> <a id="6240" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="6245" class="Symbol">(_</a> <a id="6248" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+_</a><a id="6250" class="Symbol">)</a> <a id="6252" class="Bound">∣y∣</a> <a id="6256" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">⟩</a>
      <a id="6264" href="Text.Pretty.Core.html#2373" class="Function">x.height</a> <a id="6273" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="6275" href="Text.Pretty.Core.html#2373" class="Field">y.height</a> <a id="6284" href="Relation.Binary.PropositionalEquality.Core.html#3133" class="Function Operator">∎</a> <a id="6286" class="Keyword">where</a> <a id="6292" class="Keyword">open</a> <a id="6297" href="Relation.Binary.PropositionalEquality.Core.html#2736" class="Module">≡-Reasoning</a>
    <a id="6313" class="Symbol">...</a> <a id="6317" class="Symbol">|</a> <a id="6319" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6324" class="Symbol">(</a><a id="6325" href="Text.Pretty.Core.html#6325" class="Bound">hd</a> <a id="6328" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6330" href="Text.Pretty.Core.html#6330" class="Bound">tl</a><a id="6332" class="Symbol">)</a> <a id="6334" class="Symbol">=</a> <a id="6336" href="Relation.Binary.PropositionalEquality.Core.html#2834" class="Function Operator">begin</a>
      <a id="6348" href="Text.Pretty.Core.html#6755" class="Function">∣node∣</a>                            <a id="6382" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">≡⟨</a> <a id="6385" href="Text.Pretty.Core.html#3298" class="Function">∣node?∣</a> <a id="6393" href="Text.Pretty.Core.html#4110" class="Function">blockx</a> <a id="6400" href="Text.Pretty.Core.html#6657" class="Function">middle</a> <a id="6407" href="Text.Pretty.Core.html#6686" class="Function">rest</a> <a id="6412" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">⟩</a>
      <a id="6420" href="Text.Pretty.Core.html#6628" class="Function">∣blockx∣</a> <a id="6429" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="6431" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6435" class="Symbol">(</a><a id="6436" href="Data.Tree.Binary.html#1083" class="Function">#nodes</a> <a id="6443" href="Text.Pretty.Core.html#6686" class="Function">rest</a><a id="6447" class="Symbol">)</a> <a id="6449" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">≡⟨</a> <a id="6452" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="6457" class="Symbol">((</a><a id="6459" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="6464" href="Text.Pretty.Core.html#4110" class="Function">blockx</a> <a id="6471" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+_</a><a id="6473" class="Symbol">)</a> <a id="6475" href="Function.Base.html#3617" class="Function Operator">∘′</a> <a id="6478" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="6481" class="Symbol">)</a> <a id="6483" href="Text.Pretty.Core.html#6718" class="Function">∣rest∣</a> <a id="6490" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">⟩</a>
      <a id="6498" href="Text.Pretty.Core.html#6628" class="Function">∣blockx∣</a> <a id="6507" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="6509" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6513" class="Symbol">(</a><a id="6514" href="Data.Tree.Binary.html#1083" class="Function">#nodes</a> <a id="6521" href="Text.Pretty.Core.html#6330" class="Bound">tl</a><a id="6523" class="Symbol">)</a>   <a id="6527" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">≡⟨</a> <a id="6530" href="Relation.Binary.PropositionalEquality.Core.html#1395" class="Function">cong₂</a> <a id="6536" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="6540" class="Bound">∣x∣</a> <a id="6544" class="Bound">∣y∣</a> <a id="6548" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">⟩</a>
      <a id="6556" href="Text.Pretty.Core.html#2373" class="Function">x.height</a> <a id="6565" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="6567" href="Text.Pretty.Core.html#2373" class="Field">y.height</a>               <a id="6590" href="Relation.Binary.PropositionalEquality.Core.html#3133" class="Function Operator">∎</a> <a id="6592" class="Keyword">where</a>

      <a id="6605" class="Keyword">open</a> <a id="6610" href="Relation.Binary.PropositionalEquality.Core.html#2736" class="Module">≡-Reasoning</a>
      <a id="6628" href="Text.Pretty.Core.html#6628" class="Function">∣blockx∣</a> <a id="6637" class="Symbol">=</a> <a id="6639" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="6644" href="Text.Pretty.Core.html#4110" class="Function">blockx</a>
      <a id="6657" href="Text.Pretty.Core.html#6657" class="Function">middle</a>   <a id="6666" class="Symbol">=</a> <a id="6668" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="6674" href="Data.String.Base.html#2400" class="Function Operator">++</a> <a id="6677" href="Text.Pretty.Core.html#6325" class="Bound">hd</a>
      <a id="6686" href="Text.Pretty.Core.html#6686" class="Function">rest</a>     <a id="6695" class="Symbol">=</a> <a id="6697" href="Text.Pretty.Core.html#4923" class="Function">indents</a> <a id="6705" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="6709" href="Text.Pretty.Core.html#6330" class="Bound">tl</a>
      <a id="6718" href="Text.Pretty.Core.html#6718" class="Function">∣rest∣</a>   <a id="6727" class="Symbol">=</a> <a id="6729" href="Text.Pretty.Core.html#5021" class="Function">size-indents</a> <a id="6742" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="6746" href="Text.Pretty.Core.html#6330" class="Bound">tl</a>
      <a id="6755" href="Text.Pretty.Core.html#6755" class="Function">∣node∣</a>   <a id="6764" class="Symbol">=</a> <a id="6766" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="6771" class="Symbol">(</a><a id="6772" href="Text.Pretty.Core.html#3150" class="Function">node?</a> <a id="6778" href="Text.Pretty.Core.html#4110" class="Function">blockx</a> <a id="6785" href="Text.Pretty.Core.html#6657" class="Function">middle</a> <a id="6792" href="Text.Pretty.Core.html#6686" class="Function">rest</a><a id="6796" class="Symbol">)</a>

    <a id="append.block"></a><a id="6803" href="Text.Pretty.Core.html#6803" class="Function">block</a> <a id="6809" class="Symbol">:</a> <a id="6811" href="Data.Refinement.html#947" class="Function">[</a> <a id="6813" href="Text.Pretty.Core.html#6813" class="Bound">xs</a> <a id="6816" href="Data.Refinement.html#947" class="Function">∈</a> <a id="6818" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="6826" href="Data.Refinement.html#947" class="Function">∣</a> <a id="6828" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="6833" href="Text.Pretty.Core.html#6813" class="Bound">xs</a> <a id="6836" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6838" href="Text.Pretty.Core.html#4283" class="Function">height</a> <a id="6845" href="Data.Refinement.html#947" class="Function">]</a>
    <a id="6851" href="Text.Pretty.Core.html#6803" class="Function">block</a> <a id="6857" class="Symbol">.</a><a id="6858" href="Data.Refinement.html#653" class="Field">value</a> <a id="6864" class="Symbol">=</a> <a id="6866" href="Text.Pretty.Core.html#5906" class="Function">vBlock</a>
    <a id="6877" href="Text.Pretty.Core.html#6803" class="Function">block</a> <a id="6883" class="Symbol">.</a><a id="6884" href="Data.Refinement.html#671" class="Field">proof</a> <a id="6890" class="Symbol">=</a> <a id="6892" class="Symbol">⦇</a> <a id="6894" href="Text.Pretty.Core.html#5963" class="Function">isBlock</a> <a id="6902" class="Symbol">(</a><a id="6903" href="Text.Pretty.Core.html#2391" class="Field">Block.block</a> <a id="6915" href="Text.Pretty.Core.html#4039" class="Bound">x</a> <a id="6917" class="Symbol">.</a><a id="6918" href="Data.Refinement.html#671" class="Field">proof</a><a id="6923" class="Symbol">)</a> <a id="6925" class="Symbol">(</a><a id="6926" href="Text.Pretty.Core.html#2391" class="Field">Block.block</a> <a id="6938" href="Text.Pretty.Core.html#4041" class="Bound">y</a> <a id="6940" class="Symbol">.</a><a id="6941" href="Data.Refinement.html#671" class="Field">proof</a><a id="6946" class="Symbol">)</a> <a id="6948" class="Symbol">⦈</a>
      <a id="6956" class="Keyword">where</a> <a id="6962" class="Keyword">open</a> <a id="6967" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

    <a id="append.isLastLine"></a><a id="6983" href="Text.Pretty.Core.html#6983" class="Function">isLastLine</a> <a id="6994" class="Symbol">:</a> <a id="6996" href="Data.String.Base.html#2464" class="Function">length</a> <a id="7003" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="7009" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7011" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="7023" class="Symbol">→</a>
                 <a id="7042" href="Data.String.Base.html#2464" class="Function">length</a> <a id="7049" href="Text.Pretty.Core.html#4256" class="Function">lasty</a> <a id="7055" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7057" href="Text.Pretty.Core.html#2458" class="Field">y.lastWidth</a> <a id="7069" class="Symbol">→</a>
                 <a id="7088" href="Data.String.Base.html#2464" class="Function">length</a> <a id="7095" href="Text.Pretty.Core.html#5934" class="Function">vLast</a> <a id="7101" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7103" href="Text.Pretty.Core.html#4338" class="Function">lastWidth</a>
    <a id="7117" href="Text.Pretty.Core.html#6983" class="Function">isLastLine</a> <a id="7128" href="Text.Pretty.Core.html#7128" class="Bound">∣x∣</a> <a id="7132" href="Text.Pretty.Core.html#7132" class="Bound">∣y∣</a> <a id="7136" class="Keyword">with</a> <a id="7141" href="Text.Pretty.Core.html#4138" class="Function">blocky</a>
    <a id="7152" class="Symbol">...</a> <a id="7156" class="Symbol">|</a> <a id="7158" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>        <a id="7173" class="Symbol">=</a> <a id="7175" href="Relation.Binary.PropositionalEquality.Core.html#2834" class="Function Operator">begin</a>
      <a id="7187" href="Data.String.Base.html#2464" class="Function">length</a> <a id="7194" class="Symbol">(</a><a id="7195" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="7201" href="Data.String.Base.html#2400" class="Function Operator">++</a> <a id="7204" href="Text.Pretty.Core.html#4256" class="Function">lasty</a><a id="7209" class="Symbol">)</a>       <a id="7217" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">≡⟨</a> <a id="7220" href="Data.String.Unsafe.html#1242" class="Function">length-++</a> <a id="7230" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="7236" href="Text.Pretty.Core.html#4256" class="Function">lasty</a> <a id="7242" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">⟩</a>
      <a id="7250" href="Data.String.Base.html#2464" class="Function">length</a> <a id="7257" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="7263" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7265" href="Data.String.Base.html#2464" class="Function">length</a> <a id="7272" href="Text.Pretty.Core.html#4256" class="Function">lasty</a>   <a id="7280" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">≡⟨</a> <a id="7283" href="Relation.Binary.PropositionalEquality.Core.html#1395" class="Function">cong₂</a> <a id="7289" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="7293" class="Bound">∣x∣</a> <a id="7297" class="Bound">∣y∣</a> <a id="7301" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">⟩</a>
      <a id="7309" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="7321" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7323" href="Text.Pretty.Core.html#2458" class="Field">y.lastWidth</a>     <a id="7339" href="Relation.Binary.PropositionalEquality.Core.html#3133" class="Function Operator">∎</a> <a id="7341" class="Keyword">where</a> <a id="7347" class="Keyword">open</a> <a id="7352" href="Relation.Binary.PropositionalEquality.Core.html#2736" class="Module">≡-Reasoning</a>
    <a id="7368" class="Symbol">...</a> <a id="7372" class="Symbol">|</a> <a id="7374" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7379" class="Symbol">(</a><a id="7380" href="Text.Pretty.Core.html#7380" class="Bound">hd</a> <a id="7383" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7385" href="Text.Pretty.Core.html#7385" class="Bound">tl</a><a id="7387" class="Symbol">)</a> <a id="7389" class="Symbol">=</a> <a id="7391" href="Relation.Binary.PropositionalEquality.Core.html#2834" class="Function Operator">begin</a>
      <a id="7403" href="Data.String.Base.html#2464" class="Function">length</a> <a id="7410" class="Symbol">(</a><a id="7411" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="7418" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="7422" href="Text.Pretty.Core.html#4256" class="Function">lasty</a><a id="7427" class="Symbol">)</a>          <a id="7438" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">≡⟨</a> <a id="7441" href="Text.Pretty.Core.html#4731" class="Function">size-indent</a> <a id="7453" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="7457" href="Text.Pretty.Core.html#4256" class="Function">lasty</a> <a id="7463" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">⟩</a>
      <a id="7471" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="7478" href="Data.String.Base.html#2464" class="Function">length</a> <a id="7485" class="Number">0</a> <a id="7487" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="7491" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7493" href="Data.String.Base.html#2464" class="Function">length</a> <a id="7500" href="Text.Pretty.Core.html#4256" class="Function">lasty</a> <a id="7506" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">≡⟨</a> <a id="7509" href="Relation.Binary.PropositionalEquality.Core.html#1395" class="Function">cong₂</a> <a id="7515" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="7519" href="Text.Pretty.Core.html#4510" class="Function">size-pad</a> <a id="7528" class="Bound">∣y∣</a> <a id="7532" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">⟩</a>
      <a id="7540" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="7552" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7554" href="Text.Pretty.Core.html#2458" class="Field">y.lastWidth</a>          <a id="7575" href="Relation.Binary.PropositionalEquality.Core.html#3133" class="Function Operator">∎</a> <a id="7577" class="Keyword">where</a> <a id="7583" class="Keyword">open</a> <a id="7588" href="Relation.Binary.PropositionalEquality.Core.html#2736" class="Module">≡-Reasoning</a>

    <a id="append.last"></a><a id="7605" href="Text.Pretty.Core.html#7605" class="Function">last</a> <a id="7610" class="Symbol">:</a> <a id="7612" href="Data.Refinement.html#947" class="Function">[</a> <a id="7614" href="Text.Pretty.Core.html#7614" class="Bound">s</a> <a id="7616" href="Data.Refinement.html#947" class="Function">∈</a> <a id="7618" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="7625" href="Data.Refinement.html#947" class="Function">∣</a> <a id="7627" href="Data.String.Base.html#2464" class="Function">length</a> <a id="7634" href="Text.Pretty.Core.html#7614" class="Bound">s</a> <a id="7636" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7638" href="Text.Pretty.Core.html#4338" class="Function">lastWidth</a> <a id="7648" href="Data.Refinement.html#947" class="Function">]</a>
    <a id="7654" href="Text.Pretty.Core.html#7605" class="Function">last</a> <a id="7659" class="Symbol">.</a><a id="7660" href="Data.Refinement.html#653" class="Field">value</a> <a id="7666" class="Symbol">=</a> <a id="7668" href="Text.Pretty.Core.html#5934" class="Function">vLast</a>
    <a id="7678" href="Text.Pretty.Core.html#7605" class="Function">last</a> <a id="7683" class="Symbol">.</a><a id="7684" href="Data.Refinement.html#671" class="Field">proof</a> <a id="7690" class="Symbol">=</a> <a id="7692" class="Symbol">⦇</a> <a id="7694" href="Text.Pretty.Core.html#6983" class="Function">isLastLine</a> <a id="7705" class="Symbol">(</a><a id="7706" href="Text.Pretty.Core.html#2476" class="Field">Block.last</a> <a id="7717" href="Text.Pretty.Core.html#4039" class="Bound">x</a> <a id="7719" class="Symbol">.</a><a id="7720" href="Data.Refinement.html#671" class="Field">proof</a><a id="7725" class="Symbol">)</a> <a id="7727" class="Symbol">(</a><a id="7728" href="Text.Pretty.Core.html#2476" class="Field">Block.last</a> <a id="7739" href="Text.Pretty.Core.html#4041" class="Bound">y</a> <a id="7741" class="Symbol">.</a><a id="7742" href="Data.Refinement.html#671" class="Field">proof</a><a id="7747" class="Symbol">)</a> <a id="7749" class="Symbol">⦈</a>
      <a id="7757" class="Keyword">where</a> <a id="7763" class="Keyword">open</a> <a id="7768" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

    <a id="append.vMaxWidth"></a><a id="7784" href="Text.Pretty.Core.html#7784" class="Function">vMaxWidth</a> <a id="7794" class="Symbol">:</a> <a id="7796" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="7802" href="Text.Pretty.Core.html#7784" class="Function">vMaxWidth</a> <a id="7812" class="Symbol">=</a> <a id="7814" href="Text.Pretty.Core.html#4167" class="Function">widthx</a> <a id="7821" href="Data.Nat.Base.html#4492" class="Function Operator">⊔</a> <a id="7823" class="Symbol">(</a><a id="7824" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="7836" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="7838" href="Text.Pretty.Core.html#4198" class="Function">widthy</a><a id="7844" class="Symbol">)</a>

    <a id="append.isMaxWidth₁"></a><a id="7851" href="Text.Pretty.Core.html#7851" class="Function">isMaxWidth₁</a> <a id="7863" class="Symbol">:</a> <a id="7865" href="Text.Pretty.Core.html#2458" class="Field">y.lastWidth</a> <a id="7877" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="7879" href="Text.Pretty.Core.html#4198" class="Function">widthy</a> <a id="7886" class="Symbol">→</a> <a id="7888" href="Text.Pretty.Core.html#4338" class="Function">lastWidth</a> <a id="7898" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="7900" href="Text.Pretty.Core.html#7784" class="Function">vMaxWidth</a>
    <a id="7914" href="Text.Pretty.Core.html#7851" class="Function">isMaxWidth₁</a> <a id="7926" href="Text.Pretty.Core.html#7926" class="Bound">p</a> <a id="7928" class="Symbol">=</a> <a id="7930" href="Relation.Binary.Reasoning.Base.Triple.html#3325" class="Function Operator">begin</a>
      <a id="7942" href="Text.Pretty.Core.html#4338" class="Function">lastWidth</a>            <a id="7963" href="Relation.Binary.Reasoning.Base.Triple.html#4311" class="Function">≤⟨</a> <a id="7966" href="Data.Nat.Properties.html#18769" class="Function">+-monoʳ-≤</a> <a id="7976" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="7988" href="Text.Pretty.Core.html#7926" class="Bound">p</a> <a id="7990" href="Relation.Binary.Reasoning.Base.Triple.html#4311" class="Function">⟩</a>
      <a id="7998" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="8010" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8012" href="Text.Pretty.Core.html#4198" class="Function">widthy</a> <a id="8019" href="Relation.Binary.Reasoning.Base.Triple.html#4311" class="Function">≤⟨</a> <a id="8022" href="Data.Nat.Properties.html#36030" class="Function">m≤n⊔m</a> <a id="8028" class="Symbol">_</a> <a id="8030" class="Symbol">_</a> <a id="8032" href="Relation.Binary.Reasoning.Base.Triple.html#4311" class="Function">⟩</a>
      <a id="8040" href="Text.Pretty.Core.html#7784" class="Function">vMaxWidth</a>            <a id="8061" href="Relation.Binary.Reasoning.Base.Triple.html#5685" class="Function Operator">∎</a> <a id="8063" class="Keyword">where</a> <a id="8069" class="Keyword">open</a> <a id="8074" href="Data.Nat.Properties.html#13637" class="Module">≤-Reasoning</a>

    <a id="append.isMaxWidth₂"></a><a id="8091" href="Text.Pretty.Core.html#8091" class="Function">isMaxWidth₂</a> <a id="8103" class="Symbol">:</a> <a id="8105" href="Data.String.Base.html#2464" class="Function">length</a> <a id="8112" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="8118" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8120" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="8132" class="Symbol">→</a>
                  <a id="8152" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="8164" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="8166" href="Text.Pretty.Core.html#4167" class="Function">widthx</a> <a id="8173" class="Symbol">→</a>
                  <a id="8193" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="8198" href="Text.Pretty.Core.html#4167" class="Function">widthx</a> <a id="8205" href="Text.Pretty.Core.html#4110" class="Function">blockx</a> <a id="8212" class="Symbol">→</a>
                  <a id="8232" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="8237" href="Text.Pretty.Core.html#4198" class="Function">widthy</a> <a id="8244" href="Text.Pretty.Core.html#4138" class="Function">blocky</a> <a id="8251" class="Symbol">→</a>
                  <a id="8271" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="8276" href="Text.Pretty.Core.html#7784" class="Function">vMaxWidth</a> <a id="8286" href="Text.Pretty.Core.html#5906" class="Function">vBlock</a>
    <a id="8297" href="Text.Pretty.Core.html#8091" class="Function">isMaxWidth₂</a> <a id="8309" href="Text.Pretty.Core.html#8309" class="Bound">∣x∣≡</a> <a id="8314" href="Text.Pretty.Core.html#8314" class="Bound">∣x∣≤</a> <a id="8319" href="Text.Pretty.Core.html#8319" class="Bound">∣xs∣</a> <a id="8324" href="Text.Pretty.Core.html#8324" class="Bound">∣ys∣</a> <a id="8329" class="Keyword">with</a> <a id="8334" href="Text.Pretty.Core.html#4138" class="Function">blocky</a>
    <a id="8345" class="Symbol">...</a> <a id="8349" class="Symbol">|</a> <a id="8351" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>        <a id="8366" class="Symbol">=</a> <a id="8368" href="Text.Pretty.Core.html#3458" class="Function">≤-Content</a> <a id="8378" class="Symbol">(</a><a id="8379" href="Data.Nat.Properties.html#35977" class="Function">m≤m⊔n</a> <a id="8385" class="Symbol">_</a> <a id="8387" class="Symbol">_)</a> <a id="8390" class="Bound">∣xs∣</a>
    <a id="8399" href="Text.Pretty.Core.html#8091" class="Function">isMaxWidth₂</a> <a id="8411" href="Text.Pretty.Core.html#8411" class="Bound">∣x∣≡</a> <a id="8416" href="Text.Pretty.Core.html#8416" class="Bound">∣x∣≤</a> <a id="8421" href="Text.Pretty.Core.html#8421" class="Bound">∣xs∣</a> <a id="8426" class="Symbol">(</a><a id="8427" href="Data.Maybe.Relation.Unary.All.html#1016" class="InductiveConstructor">just</a> <a id="8432" class="Symbol">(</a><a id="8433" href="Text.Pretty.Core.html#8433" class="Bound">∣hd∣</a> <a id="8438" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8440" href="Text.Pretty.Core.html#8440" class="Bound">∣tl∣</a><a id="8444" class="Symbol">))</a>
        <a id="8455" class="Symbol">|</a> <a id="8457" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8462" class="Symbol">(</a><a id="8463" href="Text.Pretty.Core.html#8463" class="Bound">hd</a> <a id="8466" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8468" href="Text.Pretty.Core.html#8468" class="Bound">tl</a><a id="8470" class="Symbol">)</a> <a id="8472" class="Symbol">=</a>
      <a id="8480" href="Text.Pretty.Core.html#3656" class="Function">All≤-node?</a> <a id="8491" class="Symbol">(</a><a id="8492" href="Text.Pretty.Core.html#3458" class="Function">≤-Content</a> <a id="8502" class="Symbol">(</a><a id="8503" href="Data.Nat.Properties.html#35977" class="Function">m≤m⊔n</a> <a id="8509" class="Symbol">_</a> <a id="8511" class="Symbol">_)</a> <a id="8514" href="Text.Pretty.Core.html#8421" class="Bound">∣xs∣</a><a id="8518" class="Symbol">)</a>
                 <a id="8537" href="Text.Pretty.Core.html#8707" class="Function">middle</a>
                 <a id="8561" class="Symbol">(</a><a id="8562" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="8568" class="Symbol">(</a><a id="8569" href="Data.Tree.Binary.Relation.Unary.All.html#638" class="Datatype">Allᵀ.All</a> <a id="8578" class="Symbol">_</a> <a id="8580" href="Relation.Unary.html#1522" class="Function">U</a><a id="8581" class="Symbol">)</a> <a id="8583" class="Symbol">(</a><a id="8584" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="8588" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8590" href="Text.Pretty.Core.html#5182" class="Function">unfold-indents</a> <a id="8605" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="8609" href="Text.Pretty.Core.html#8468" class="Bound">tl</a><a id="8611" class="Symbol">)</a>
                 <a id="8630" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8632" href="Data.Tree.Binary.Relation.Unary.All.Properties.html#865" class="Function">Allᵀₚ.mapₙ⁺</a> <a id="8644" class="Symbol">(</a><a id="8645" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="8652" href="Text.Pretty.Core.html#4402" class="Function">pad</a><a id="8655" class="Symbol">)</a> <a id="8657" class="Symbol">(</a><a id="8658" href="Data.Tree.Binary.Relation.Unary.All.html#998" class="Function">Allᵀ.mapₙ</a> <a id="8668" class="Symbol">(</a><a id="8669" href="Text.Pretty.Core.html#9060" class="Function">indented</a> <a id="8678" class="Symbol">_)</a> <a id="8681" href="Text.Pretty.Core.html#8440" class="Bound">∣tl∣</a><a id="8685" class="Symbol">))</a>
      <a id="8694" class="Keyword">where</a>

      <a id="8707" href="Text.Pretty.Core.html#8707" class="Function">middle</a> <a id="8714" class="Symbol">:</a> <a id="8716" href="Data.String.Base.html#2464" class="Function">length</a> <a id="8723" class="Symbol">(</a><a id="8724" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="8730" href="Data.String.Base.html#2400" class="Function Operator">++</a> <a id="8733" href="Text.Pretty.Core.html#8463" class="Bound">hd</a><a id="8735" class="Symbol">)</a> <a id="8737" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="8739" href="Text.Pretty.Core.html#7784" class="Function">vMaxWidth</a>
      <a id="8755" href="Text.Pretty.Core.html#8707" class="Function">middle</a> <a id="8762" class="Symbol">=</a> <a id="8764" href="Relation.Binary.Reasoning.Base.Triple.html#3325" class="Function Operator">begin</a>
        <a id="8778" href="Data.String.Base.html#2464" class="Function">length</a> <a id="8785" class="Symbol">(</a><a id="8786" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="8792" href="Data.String.Base.html#2400" class="Function Operator">++</a> <a id="8795" href="Text.Pretty.Core.html#8463" class="Bound">hd</a><a id="8797" class="Symbol">)</a>     <a id="8803" href="Relation.Binary.Reasoning.Base.Triple.html#5084" class="Function">≡⟨</a> <a id="8806" href="Data.String.Unsafe.html#1242" class="Function">length-++</a> <a id="8816" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="8822" href="Text.Pretty.Core.html#8463" class="Bound">hd</a> <a id="8825" href="Relation.Binary.Reasoning.Base.Triple.html#5084" class="Function">⟩</a>
        <a id="8835" href="Data.String.Base.html#2464" class="Function">length</a> <a id="8842" href="Text.Pretty.Core.html#4230" class="Function">lastx</a> <a id="8848" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8850" href="Data.String.Base.html#2464" class="Function">length</a> <a id="8857" href="Text.Pretty.Core.html#8463" class="Bound">hd</a> <a id="8860" href="Relation.Binary.Reasoning.Base.Triple.html#5084" class="Function">≡⟨</a> <a id="8863" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="8868" class="Symbol">(</a><a id="8869" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+</a> <a id="8872" class="Symbol">_)</a> <a id="8875" href="Text.Pretty.Core.html#8411" class="Bound">∣x∣≡</a> <a id="8880" href="Relation.Binary.Reasoning.Base.Triple.html#5084" class="Function">⟩</a>
        <a id="8890" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="8902" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8904" href="Data.String.Base.html#2464" class="Function">length</a> <a id="8911" href="Text.Pretty.Core.html#8463" class="Bound">hd</a>  <a id="8915" href="Relation.Binary.Reasoning.Base.Triple.html#4311" class="Function">≤⟨</a> <a id="8918" href="Data.Nat.Properties.html#18769" class="Function">+-monoʳ-≤</a> <a id="8928" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="8940" href="Text.Pretty.Core.html#8433" class="Bound">∣hd∣</a> <a id="8945" href="Relation.Binary.Reasoning.Base.Triple.html#4311" class="Function">⟩</a>
        <a id="8955" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="8967" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="8969" href="Text.Pretty.Core.html#4198" class="Function">widthy</a>     <a id="8980" href="Relation.Binary.Reasoning.Base.Triple.html#4311" class="Function">≤⟨</a> <a id="8983" href="Data.Nat.Properties.html#36030" class="Function">m≤n⊔m</a> <a id="8989" class="Symbol">_</a> <a id="8991" class="Symbol">_</a> <a id="8993" href="Relation.Binary.Reasoning.Base.Triple.html#4311" class="Function">⟩</a>
        <a id="9003" href="Text.Pretty.Core.html#7784" class="Function">vMaxWidth</a>                <a id="9028" href="Relation.Binary.Reasoning.Base.Triple.html#5685" class="Function Operator">∎</a> <a id="9030" class="Keyword">where</a> <a id="9036" class="Keyword">open</a> <a id="9041" href="Data.Nat.Properties.html#13637" class="Module">≤-Reasoning</a>

      <a id="9060" href="Text.Pretty.Core.html#9060" class="Function">indented</a> <a id="9069" class="Symbol">:</a> <a id="9071" class="Symbol">∀</a> <a id="9073" href="Text.Pretty.Core.html#9073" class="Bound">s</a> <a id="9075" class="Symbol">→</a> <a id="9077" href="Data.String.Base.html#2464" class="Function">length</a> <a id="9084" href="Text.Pretty.Core.html#9073" class="Bound">s</a> <a id="9086" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="9088" href="Text.Pretty.Core.html#4198" class="Function">widthy</a> <a id="9095" class="Symbol">→</a>
                 <a id="9114" href="Data.String.Base.html#2464" class="Function">length</a> <a id="9121" class="Symbol">(</a><a id="9122" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="9129" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="9133" href="Text.Pretty.Core.html#9073" class="Bound">s</a><a id="9134" class="Symbol">)</a> <a id="9136" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="9138" href="Text.Pretty.Core.html#7784" class="Function">vMaxWidth</a>
      <a id="9154" href="Text.Pretty.Core.html#9060" class="Function">indented</a> <a id="9163" href="Text.Pretty.Core.html#9163" class="Bound">s</a> <a id="9165" href="Text.Pretty.Core.html#9165" class="Bound">∣s∣</a> <a id="9169" class="Symbol">=</a> <a id="9171" href="Relation.Binary.Reasoning.Base.Triple.html#3325" class="Function Operator">begin</a>
        <a id="9185" href="Data.String.Base.html#2464" class="Function">length</a> <a id="9192" class="Symbol">(</a><a id="9193" href="Text.Pretty.Core.html#4658" class="Function">indent</a> <a id="9200" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="9204" href="Text.Pretty.Core.html#9163" class="Bound">s</a><a id="9205" class="Symbol">)</a>          <a id="9216" href="Relation.Binary.Reasoning.Base.Triple.html#5084" class="Function">≡⟨</a> <a id="9219" href="Text.Pretty.Core.html#4731" class="Function">size-indent</a> <a id="9231" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="9235" href="Text.Pretty.Core.html#9163" class="Bound">s</a> <a id="9237" href="Relation.Binary.Reasoning.Base.Triple.html#5084" class="Function">⟩</a>
        <a id="9247" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="9254" href="Data.String.Base.html#2464" class="Function">length</a> <a id="9261" class="Number">0</a> <a id="9263" href="Text.Pretty.Core.html#4402" class="Function">pad</a> <a id="9267" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="9269" href="Data.String.Base.html#2464" class="Function">length</a> <a id="9276" href="Text.Pretty.Core.html#9163" class="Bound">s</a> <a id="9278" href="Relation.Binary.Reasoning.Base.Triple.html#5084" class="Function">≡⟨</a> <a id="9281" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="9286" class="Symbol">(</a><a id="9287" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+</a> <a id="9290" class="Symbol">_)</a> <a id="9293" href="Text.Pretty.Core.html#4510" class="Function">size-pad</a> <a id="9302" href="Relation.Binary.Reasoning.Base.Triple.html#5084" class="Function">⟩</a>
        <a id="9312" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="9324" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="9326" href="Data.String.Base.html#2464" class="Function">length</a> <a id="9333" href="Text.Pretty.Core.html#9163" class="Bound">s</a>         <a id="9343" href="Relation.Binary.Reasoning.Base.Triple.html#4311" class="Function">≤⟨</a> <a id="9346" href="Data.Nat.Properties.html#18769" class="Function">+-monoʳ-≤</a> <a id="9356" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="9368" href="Text.Pretty.Core.html#9165" class="Bound">∣s∣</a> <a id="9372" href="Relation.Binary.Reasoning.Base.Triple.html#4311" class="Function">⟩</a>
        <a id="9382" href="Text.Pretty.Core.html#2458" class="Function">x.lastWidth</a> <a id="9394" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="9396" href="Text.Pretty.Core.html#4198" class="Function">widthy</a>           <a id="9413" href="Relation.Binary.Reasoning.Base.Triple.html#4311" class="Function">≤⟨</a> <a id="9416" href="Data.Nat.Properties.html#36030" class="Function">m≤n⊔m</a> <a id="9422" class="Symbol">(</a><a id="9423" href="Text.Pretty.Core.html#4167" class="Function">widthx</a><a id="9429" class="Symbol">)</a> <a id="9431" class="Symbol">_</a> <a id="9433" href="Relation.Binary.Reasoning.Base.Triple.html#4311" class="Function">⟩</a>
        <a id="9443" href="Text.Pretty.Core.html#7784" class="Function">vMaxWidth</a>                      <a id="9474" href="Relation.Binary.Reasoning.Base.Triple.html#5685" class="Function Operator">∎</a> <a id="9476" class="Keyword">where</a> <a id="9482" class="Keyword">open</a> <a id="9487" href="Data.Nat.Properties.html#13637" class="Module">≤-Reasoning</a>

    <a id="append.maxWidth"></a><a id="9504" href="Text.Pretty.Core.html#9504" class="Function">maxWidth</a> <a id="9513" class="Symbol">:</a> <a id="9515" href="Data.Refinement.html#947" class="Function">[</a> <a id="9517" href="Text.Pretty.Core.html#9517" class="Bound">n</a> <a id="9519" href="Data.Refinement.html#947" class="Function">∈</a> <a id="9521" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="9523" href="Data.Refinement.html#947" class="Function">∣</a> <a id="9525" href="Text.Pretty.Core.html#4338" class="Function">lastWidth</a> <a id="9535" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="9537" href="Text.Pretty.Core.html#9517" class="Bound">n</a> <a id="9539" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9541" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="9546" href="Text.Pretty.Core.html#9517" class="Bound">n</a> <a id="9548" href="Text.Pretty.Core.html#5906" class="Function">vBlock</a> <a id="9555" href="Data.Refinement.html#947" class="Function">]</a>
    <a id="9561" href="Text.Pretty.Core.html#9504" class="Function">maxWidth</a> <a id="9570" class="Symbol">.</a><a id="9571" href="Data.Refinement.html#653" class="Field">value</a> <a id="9577" class="Symbol">=</a> <a id="9579" href="Text.Pretty.Core.html#7784" class="Function">vMaxWidth</a>
    <a id="9593" href="Text.Pretty.Core.html#9504" class="Function">maxWidth</a> <a id="9602" class="Symbol">.</a><a id="9603" href="Data.Refinement.html#671" class="Field">proof</a> <a id="9609" class="Symbol">=</a>
      <a id="9617" class="Symbol">⦇</a> <a id="9619" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="9623" class="Symbol">⦇</a> <a id="9625" href="Text.Pretty.Core.html#7851" class="Function">isMaxWidth₁</a> <a id="9637" class="Symbol">(</a><a id="9638" href="Data.Irrelevant.html#963" class="Function">map</a> <a id="9642" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9648" class="Symbol">(</a><a id="9649" href="Text.Pretty.Core.html#2557" class="Field">Block.maxWidth</a> <a id="9664" href="Text.Pretty.Core.html#4041" class="Bound">y</a> <a id="9666" class="Symbol">.</a><a id="9667" href="Data.Refinement.html#671" class="Field">proof</a><a id="9672" class="Symbol">))</a> <a id="9675" class="Symbol">⦈</a>
            <a id="9689" class="Symbol">⦇</a> <a id="9691" href="Text.Pretty.Core.html#8091" class="Function">isMaxWidth₂</a> <a id="9703" class="Symbol">(</a><a id="9704" href="Text.Pretty.Core.html#2476" class="Field">Block.last</a> <a id="9715" href="Text.Pretty.Core.html#4039" class="Bound">x</a> <a id="9717" class="Symbol">.</a><a id="9718" href="Data.Refinement.html#671" class="Field">proof</a><a id="9723" class="Symbol">)</a>
                          <a id="9751" class="Symbol">(</a><a id="9752" href="Data.Irrelevant.html#963" class="Function">map</a> <a id="9756" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9762" class="Symbol">(</a><a id="9763" href="Text.Pretty.Core.html#2557" class="Field">Block.maxWidth</a> <a id="9778" href="Text.Pretty.Core.html#4039" class="Bound">x</a> <a id="9780" class="Symbol">.</a><a id="9781" href="Data.Refinement.html#671" class="Field">proof</a><a id="9786" class="Symbol">))</a>
                          <a id="9815" class="Symbol">(</a><a id="9816" href="Data.Irrelevant.html#963" class="Function">map</a> <a id="9820" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="9826" class="Symbol">(</a><a id="9827" href="Text.Pretty.Core.html#2557" class="Field">Block.maxWidth</a> <a id="9842" href="Text.Pretty.Core.html#4039" class="Bound">x</a> <a id="9844" class="Symbol">.</a><a id="9845" href="Data.Refinement.html#671" class="Field">proof</a><a id="9850" class="Symbol">))</a>
                          <a id="9879" class="Symbol">(</a><a id="9880" href="Data.Irrelevant.html#963" class="Function">map</a> <a id="9884" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="9890" class="Symbol">(</a><a id="9891" href="Text.Pretty.Core.html#2557" class="Field">Block.maxWidth</a> <a id="9906" href="Text.Pretty.Core.html#4041" class="Bound">y</a> <a id="9908" class="Symbol">.</a><a id="9909" href="Data.Refinement.html#671" class="Field">proof</a><a id="9914" class="Symbol">))</a>
            <a id="9929" class="Symbol">⦈</a>
      <a id="9937" class="Symbol">⦈</a> <a id="9939" class="Keyword">where</a> <a id="9945" class="Keyword">open</a> <a id="9950" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

<a id="9962" class="Keyword">infixl</a> <a id="9969" class="Number">4</a> <a id="9971" href="Text.Pretty.Core.html#9976" class="Function Operator">_&lt;&gt;_</a>
<a id="_&lt;&gt;_"></a><a id="9976" href="Text.Pretty.Core.html#9976" class="Function Operator">_&lt;&gt;_</a> <a id="9981" class="Symbol">:</a> <a id="9983" href="Text.Pretty.Core.html#2343" class="Record">Block</a> <a id="9989" class="Symbol">→</a> <a id="9991" href="Text.Pretty.Core.html#2343" class="Record">Block</a> <a id="9997" class="Symbol">→</a> <a id="9999" href="Text.Pretty.Core.html#2343" class="Record">Block</a>
<a id="10005" href="Text.Pretty.Core.html#10005" class="Bound">x</a> <a id="10007" href="Text.Pretty.Core.html#9976" class="Function Operator">&lt;&gt;</a> <a id="10010" href="Text.Pretty.Core.html#10010" class="Bound">y</a> <a id="10012" class="Symbol">=</a> <a id="10014" class="Keyword">record</a> <a id="10021" class="Symbol">{</a> <a id="10023" href="Text.Pretty.Core.html#10023" class="Module">append</a> <a id="10030" href="Text.Pretty.Core.html#10005" class="Bound">x</a> <a id="10032" href="Text.Pretty.Core.html#10010" class="Bound">y</a> <a id="10034" class="Symbol">}</a>

<a id="10037" class="Comment">------------------------------------------------------------------------</a>
<a id="10110" class="Comment">-- Flush (introduces a new line)</a>

<a id="10144" class="Keyword">private</a>
  <a id="10154" class="Keyword">module</a> <a id="flush"></a><a id="10161" href="Text.Pretty.Core.html#10161" class="Module">flush</a> <a id="10167" class="Symbol">(</a><a id="10168" href="Text.Pretty.Core.html#10168" class="Bound">x</a> <a id="10170" class="Symbol">:</a> <a id="10172" href="Text.Pretty.Core.html#2343" class="Record">Block</a><a id="10177" class="Symbol">)</a> <a id="10179" class="Keyword">where</a>

    <a id="10190" class="Keyword">module</a> <a id="flush.x"></a><a id="10197" href="Text.Pretty.Core.html#10197" class="Module">x</a> <a id="10199" class="Symbol">=</a> <a id="10201" href="Text.Pretty.Core.html#2343" class="Module">Block</a> <a id="10207" href="Text.Pretty.Core.html#10168" class="Bound">x</a>
    <a id="flush.blockx"></a><a id="10213" href="Text.Pretty.Core.html#10213" class="Function">blockx</a>  <a id="10221" class="Symbol">=</a> <a id="10223" href="Text.Pretty.Core.html#2391" class="Field">x.block</a> <a id="10231" class="Symbol">.</a><a id="10232" href="Data.Refinement.html#653" class="Field">value</a>
    <a id="flush.lastx"></a><a id="10242" href="Text.Pretty.Core.html#10242" class="Function">lastx</a>   <a id="10250" class="Symbol">=</a> <a id="10252" href="Text.Pretty.Core.html#2476" class="Field">x.last</a> <a id="10259" class="Symbol">.</a><a id="10260" href="Data.Refinement.html#653" class="Field">value</a>
    <a id="flush.widthx"></a><a id="10270" href="Text.Pretty.Core.html#10270" class="Function">widthx</a>  <a id="10278" class="Symbol">=</a> <a id="10280" href="Text.Pretty.Core.html#2557" class="Field">x.maxWidth</a> <a id="10291" class="Symbol">.</a><a id="10292" href="Data.Refinement.html#653" class="Field">value</a>
    <a id="flush.heightx"></a><a id="10302" href="Text.Pretty.Core.html#10302" class="Function">heightx</a> <a id="10310" class="Symbol">=</a> <a id="10312" href="Text.Pretty.Core.html#2373" class="Field">x.height</a>

    <a id="flush.height"></a><a id="10326" href="Text.Pretty.Core.html#10326" class="Function">height</a>    <a id="10336" class="Symbol">=</a> <a id="10338" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="10342" href="Text.Pretty.Core.html#10302" class="Function">heightx</a>
    <a id="flush.lastWidth"></a><a id="10354" href="Text.Pretty.Core.html#10354" class="Function">lastWidth</a> <a id="10364" class="Symbol">=</a> <a id="10366" class="Number">0</a>
    <a id="flush.vMaxWidth"></a><a id="10372" href="Text.Pretty.Core.html#10372" class="Function">vMaxWidth</a> <a id="10382" class="Symbol">=</a> <a id="10384" href="Text.Pretty.Core.html#10270" class="Function">widthx</a>

    <a id="flush.last"></a><a id="10396" href="Text.Pretty.Core.html#10396" class="Function">last</a> <a id="10401" class="Symbol">:</a> <a id="10403" href="Data.Refinement.html#947" class="Function">[</a> <a id="10405" href="Text.Pretty.Core.html#10405" class="Bound">s</a> <a id="10407" href="Data.Refinement.html#947" class="Function">∈</a> <a id="10409" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="10416" href="Data.Refinement.html#947" class="Function">∣</a> <a id="10418" href="Data.String.Base.html#2464" class="Function">length</a> <a id="10425" href="Text.Pretty.Core.html#10405" class="Bound">s</a> <a id="10427" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10429" href="Text.Pretty.Core.html#10354" class="Function">lastWidth</a> <a id="10439" href="Data.Refinement.html#947" class="Function">]</a>
    <a id="10445" href="Text.Pretty.Core.html#10396" class="Function">last</a> <a id="10450" class="Symbol">=</a> <a id="10452" class="String">&quot;&quot;</a> <a id="10455" href="Data.Refinement.html#641" class="InductiveConstructor Operator">,</a> <a id="10457" class="Symbol">⦇</a> <a id="10459" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="10464" class="Symbol">⦈</a> <a id="10466" class="Keyword">where</a> <a id="10472" class="Keyword">open</a> <a id="10477" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

    <a id="flush.vContent"></a><a id="10493" href="Text.Pretty.Core.html#10493" class="Function">vContent</a> <a id="10502" class="Symbol">=</a> <a id="10504" href="Text.Pretty.Core.html#3150" class="Function">node?</a> <a id="10510" href="Text.Pretty.Core.html#10213" class="Function">blockx</a> <a id="10517" href="Text.Pretty.Core.html#10242" class="Function">lastx</a> <a id="10523" class="Symbol">(</a><a id="10524" href="Data.Tree.Binary.html#751" class="InductiveConstructor">leaf</a> <a id="10529" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="10531" class="Symbol">)</a>

    <a id="flush.isBlock"></a><a id="10538" href="Text.Pretty.Core.html#10538" class="Function">isBlock</a> <a id="10546" class="Symbol">:</a> <a id="10548" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="10553" href="Text.Pretty.Core.html#10213" class="Function">blockx</a> <a id="10560" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10562" href="Text.Pretty.Core.html#10302" class="Function">heightx</a> <a id="10570" class="Symbol">→</a> <a id="10572" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="10577" href="Text.Pretty.Core.html#10493" class="Function">vContent</a> <a id="10586" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10588" href="Text.Pretty.Core.html#10326" class="Function">height</a>
    <a id="10599" href="Text.Pretty.Core.html#10538" class="Function">isBlock</a> <a id="10607" href="Text.Pretty.Core.html#10607" class="Bound">∣x∣</a> <a id="10611" class="Symbol">=</a> <a id="10613" href="Relation.Binary.PropositionalEquality.Core.html#2834" class="Function Operator">begin</a>
      <a id="10625" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="10630" href="Text.Pretty.Core.html#10493" class="Function">vContent</a>   <a id="10641" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">≡⟨</a> <a id="10644" href="Text.Pretty.Core.html#3298" class="Function">∣node?∣</a> <a id="10652" href="Text.Pretty.Core.html#10213" class="Function">blockx</a> <a id="10659" href="Text.Pretty.Core.html#10242" class="Function">lastx</a> <a id="10665" class="Symbol">(</a><a id="10666" href="Data.Tree.Binary.html#751" class="InductiveConstructor">leaf</a> <a id="10671" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="10673" class="Symbol">)</a> <a id="10675" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">⟩</a>
      <a id="10683" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="10688" href="Text.Pretty.Core.html#10213" class="Function">blockx</a> <a id="10695" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="10697" class="Number">1</a> <a id="10699" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">≡⟨</a> <a id="10702" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="10707" class="Symbol">(</a><a id="10708" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+</a> <a id="10711" class="Number">1</a><a id="10712" class="Symbol">)</a> <a id="10714" href="Text.Pretty.Core.html#10607" class="Bound">∣x∣</a> <a id="10718" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">⟩</a>
      <a id="10726" href="Text.Pretty.Core.html#10302" class="Function">heightx</a> <a id="10734" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="10736" class="Number">1</a>     <a id="10742" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">≡⟨</a> <a id="10745" href="Data.Nat.Properties.html#14569" class="Function">+-comm</a> <a id="10752" href="Text.Pretty.Core.html#10302" class="Function">heightx</a> <a id="10760" class="Number">1</a> <a id="10762" href="Relation.Binary.PropositionalEquality.Core.html#2951" class="Function">⟩</a>
      <a id="10770" href="Text.Pretty.Core.html#10326" class="Function">height</a>          <a id="10786" href="Relation.Binary.PropositionalEquality.Core.html#3133" class="Function Operator">∎</a> <a id="10788" class="Keyword">where</a> <a id="10794" class="Keyword">open</a> <a id="10799" href="Relation.Binary.PropositionalEquality.Core.html#2736" class="Module">≡-Reasoning</a>

    <a id="flush.block"></a><a id="10816" href="Text.Pretty.Core.html#10816" class="Function">block</a> <a id="10822" class="Symbol">:</a> <a id="10824" href="Data.Refinement.html#947" class="Function">[</a> <a id="10826" href="Text.Pretty.Core.html#10826" class="Bound">xs</a> <a id="10829" href="Data.Refinement.html#947" class="Function">∈</a> <a id="10831" href="Text.Pretty.Core.html#2062" class="Function">Content</a> <a id="10839" href="Data.Refinement.html#947" class="Function">∣</a> <a id="10841" href="Text.Pretty.Core.html#2118" class="Function">size</a> <a id="10846" href="Text.Pretty.Core.html#10826" class="Bound">xs</a> <a id="10849" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10851" href="Text.Pretty.Core.html#10326" class="Function">height</a> <a id="10858" href="Data.Refinement.html#947" class="Function">]</a>
    <a id="10864" href="Text.Pretty.Core.html#10816" class="Function">block</a> <a id="10870" class="Symbol">.</a><a id="10871" href="Data.Refinement.html#653" class="Field">value</a> <a id="10877" class="Symbol">=</a> <a id="10879" href="Text.Pretty.Core.html#10493" class="Function">vContent</a>
    <a id="10892" href="Text.Pretty.Core.html#10816" class="Function">block</a> <a id="10898" class="Symbol">.</a><a id="10899" href="Data.Refinement.html#671" class="Field">proof</a> <a id="10905" class="Symbol">=</a> <a id="10907" href="Data.Irrelevant.html#963" class="Function">Irrelevant.map</a> <a id="10922" href="Text.Pretty.Core.html#10538" class="Function">isBlock</a> <a id="10930" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10932" href="Text.Pretty.Core.html#2391" class="Field">Block.block</a> <a id="10944" href="Text.Pretty.Core.html#10168" class="Bound">x</a> <a id="10946" class="Symbol">.</a><a id="10947" href="Data.Refinement.html#671" class="Field">proof</a>

    <a id="flush.maxWidth"></a><a id="10958" href="Text.Pretty.Core.html#10958" class="Function">maxWidth</a> <a id="10967" class="Symbol">:</a> <a id="10969" href="Data.Refinement.html#947" class="Function">[</a> <a id="10971" href="Text.Pretty.Core.html#10971" class="Bound">n</a> <a id="10973" href="Data.Refinement.html#947" class="Function">∈</a> <a id="10975" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="10977" href="Data.Refinement.html#947" class="Function">∣</a> <a id="10979" href="Text.Pretty.Core.html#10354" class="Function">lastWidth</a> <a id="10989" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="10991" href="Text.Pretty.Core.html#10971" class="Bound">n</a> <a id="10993" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10995" href="Text.Pretty.Core.html#2276" class="Function">All≤</a> <a id="11000" href="Text.Pretty.Core.html#10971" class="Bound">n</a> <a id="11002" href="Text.Pretty.Core.html#10493" class="Function">vContent</a> <a id="11011" href="Data.Refinement.html#947" class="Function">]</a>
    <a id="11017" href="Text.Pretty.Core.html#10958" class="Function">maxWidth</a> <a id="11026" class="Symbol">.</a><a id="11027" href="Data.Refinement.html#653" class="Field">value</a> <a id="11033" class="Symbol">=</a> <a id="11035" href="Text.Pretty.Core.html#10270" class="Function">widthx</a>
    <a id="11046" href="Text.Pretty.Core.html#10958" class="Function">maxWidth</a> <a id="11055" class="Symbol">.</a><a id="11056" href="Data.Refinement.html#671" class="Field">proof</a> <a id="11062" class="Symbol">=</a> <a id="11064" href="Data.Irrelevant.html#963" class="Function">map</a> <a id="11068" class="Symbol">(</a><a id="11069" href="Data.Nat.Base.html#1663" class="InductiveConstructor">z≤n</a> <a id="11073" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="11075" class="Symbol">)</a>
      <a id="11083" class="Symbol">⦇</a> <a id="11085" href="Text.Pretty.Core.html#3656" class="Function">All≤-node?</a> <a id="11096" class="Symbol">⦇</a> <a id="11098" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="11104" class="Symbol">(</a><a id="11105" href="Text.Pretty.Core.html#2557" class="Field">Block.maxWidth</a> <a id="11120" href="Text.Pretty.Core.html#10168" class="Bound">x</a> <a id="11122" class="Symbol">.</a><a id="11123" href="Data.Refinement.html#671" class="Field">proof</a><a id="11128" class="Symbol">)</a> <a id="11130" class="Symbol">⦈</a>
                   <a id="11151" class="Symbol">⦇</a> <a id="11153" href="Text.Pretty.Core.html#11300" class="Function">middle</a> <a id="11160" class="Symbol">(</a><a id="11161" href="Text.Pretty.Core.html#2476" class="Field">Block.last</a> <a id="11172" href="Text.Pretty.Core.html#10168" class="Bound">x</a> <a id="11174" class="Symbol">.</a><a id="11175" href="Data.Refinement.html#671" class="Field">proof</a><a id="11180" class="Symbol">)</a> <a id="11182" class="Symbol">⦇</a> <a id="11184" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="11190" class="Symbol">(</a><a id="11191" href="Text.Pretty.Core.html#2557" class="Field">Block.maxWidth</a> <a id="11206" href="Text.Pretty.Core.html#10168" class="Bound">x</a> <a id="11208" class="Symbol">.</a><a id="11209" href="Data.Refinement.html#671" class="Field">proof</a><a id="11214" class="Symbol">)</a> <a id="11216" class="Symbol">⦈</a> <a id="11218" class="Symbol">⦈</a>
                   <a id="11239" class="Symbol">(</a><a id="11240" href="Data.Irrelevant.html#1030" class="Function">pure</a> <a id="11245" class="Symbol">(</a><a id="11246" href="Data.Tree.Binary.Relation.Unary.All.html#739" class="InductiveConstructor">leaf</a> <a id="11251" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="11253" class="Symbol">))</a>
      <a id="11262" class="Symbol">⦈</a> <a id="11264" class="Keyword">where</a>

      <a id="11277" class="Keyword">open</a> <a id="11282" href="Data.Irrelevant.html" class="Module">Irrelevant</a>

      <a id="11300" href="Text.Pretty.Core.html#11300" class="Function">middle</a> <a id="11307" class="Symbol">:</a> <a id="11309" href="Data.String.Base.html#2464" class="Function">length</a> <a id="11316" href="Text.Pretty.Core.html#10242" class="Function">lastx</a> <a id="11322" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11324" href="Text.Pretty.Core.html#2458" class="Field">x.lastWidth</a> <a id="11336" class="Symbol">→</a> <a id="11338" href="Text.Pretty.Core.html#2458" class="Field">x.lastWidth</a> <a id="11350" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="11352" href="Text.Pretty.Core.html#10372" class="Function">vMaxWidth</a> <a id="11362" class="Symbol">→</a>
               <a id="11379" href="Data.String.Base.html#2464" class="Function">length</a> <a id="11386" href="Text.Pretty.Core.html#10242" class="Function">lastx</a> <a id="11392" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="11394" href="Text.Pretty.Core.html#10372" class="Function">vMaxWidth</a>
      <a id="11410" href="Text.Pretty.Core.html#11300" class="Function">middle</a> <a id="11417" href="Text.Pretty.Core.html#11417" class="Bound">p</a> <a id="11419" href="Text.Pretty.Core.html#11419" class="Bound">q</a> <a id="11421" class="Symbol">=</a> <a id="11423" href="Relation.Binary.Reasoning.Base.Triple.html#3325" class="Function Operator">begin</a>
        <a id="11437" href="Data.String.Base.html#2464" class="Function">length</a> <a id="11444" href="Text.Pretty.Core.html#10242" class="Function">lastx</a> <a id="11450" href="Relation.Binary.Reasoning.Base.Triple.html#5084" class="Function">≡⟨</a> <a id="11453" href="Text.Pretty.Core.html#11417" class="Bound">p</a> <a id="11455" href="Relation.Binary.Reasoning.Base.Triple.html#5084" class="Function">⟩</a>
        <a id="11465" href="Text.Pretty.Core.html#2458" class="Field">x.lastWidth</a>  <a id="11478" href="Relation.Binary.Reasoning.Base.Triple.html#4311" class="Function">≤⟨</a> <a id="11481" href="Text.Pretty.Core.html#11419" class="Bound">q</a> <a id="11483" href="Relation.Binary.Reasoning.Base.Triple.html#4311" class="Function">⟩</a>
        <a id="11493" href="Text.Pretty.Core.html#10372" class="Function">vMaxWidth</a>    <a id="11506" href="Relation.Binary.Reasoning.Base.Triple.html#5685" class="Function Operator">∎</a> <a id="11508" class="Keyword">where</a> <a id="11514" class="Keyword">open</a> <a id="11519" href="Data.Nat.Properties.html#13637" class="Module">≤-Reasoning</a>

<a id="flush"></a><a id="11532" href="Text.Pretty.Core.html#11532" class="Function">flush</a> <a id="11538" class="Symbol">:</a> <a id="11540" href="Text.Pretty.Core.html#2343" class="Record">Block</a> <a id="11546" class="Symbol">→</a> <a id="11548" href="Text.Pretty.Core.html#2343" class="Record">Block</a>
<a id="11554" href="Text.Pretty.Core.html#11532" class="Function">flush</a> <a id="11560" href="Text.Pretty.Core.html#11560" class="Bound">x</a> <a id="11562" class="Symbol">=</a> <a id="11564" class="Keyword">record</a> <a id="11571" class="Symbol">{</a> <a id="11573" href="Text.Pretty.Core.html#11573" class="Module">flush</a> <a id="11579" href="Text.Pretty.Core.html#11560" class="Bound">x</a> <a id="11581" class="Symbol">}</a>

<a id="11584" class="Comment">------------------------------------------------------------------------</a>
<a id="11657" class="Comment">-- Other functions</a>

<a id="render"></a><a id="11677" href="Text.Pretty.Core.html#11677" class="Function">render</a> <a id="11684" class="Symbol">:</a> <a id="11686" href="Text.Pretty.Core.html#2343" class="Record">Block</a> <a id="11692" class="Symbol">→</a> <a id="11694" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
<a id="11701" href="Text.Pretty.Core.html#11677" class="Function">render</a> <a id="11708" href="Text.Pretty.Core.html#11708" class="Bound">x</a> <a id="11710" class="Symbol">=</a> <a id="11712" href="Data.String.Base.html#2801" class="Function">unlines</a>
  <a id="11722" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="11724" href="Data.Maybe.Base.html#1583" class="Function">maybe′</a> <a id="11731" class="Symbol">(</a><a id="11732" href="Data.Product.Base.html#3109" class="Function">uncurry</a> <a id="11740" class="Symbol">(λ</a> <a id="11743" href="Text.Pretty.Core.html#11743" class="Bound">hd</a> <a id="11746" href="Text.Pretty.Core.html#11746" class="Bound">tl</a> <a id="11749" class="Symbol">→</a> <a id="11751" href="Text.Pretty.Core.html#11743" class="Bound">hd</a> <a id="11754" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11756" href="Data.Tree.Binary.html#1837" class="Function">Tree.Infix.toList</a> <a id="11774" href="Text.Pretty.Core.html#11746" class="Bound">tl</a><a id="11776" class="Symbol">))</a> <a id="11779" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="11784" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="11786" href="Text.Pretty.Core.html#3150" class="Function">node?</a> <a id="11792" class="Symbol">(</a><a id="11793" href="Text.Pretty.Core.html#2391" class="Field">Block.block</a> <a id="11805" href="Text.Pretty.Core.html#11708" class="Bound">x</a> <a id="11807" class="Symbol">.</a><a id="11808" href="Data.Refinement.html#653" class="Field">value</a><a id="11813" class="Symbol">)</a> <a id="11815" class="Symbol">(</a><a id="11816" href="Text.Pretty.Core.html#2476" class="Field">Block.last</a> <a id="11827" href="Text.Pretty.Core.html#11708" class="Bound">x</a> <a id="11829" class="Symbol">.</a><a id="11830" href="Data.Refinement.html#653" class="Field">value</a><a id="11835" class="Symbol">)</a> <a id="11837" class="Symbol">(</a><a id="11838" href="Data.Tree.Binary.html#751" class="InductiveConstructor">leaf</a> <a id="11843" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="11845" class="Symbol">)</a>

<a id="valid"></a><a id="11848" href="Text.Pretty.Core.html#11848" class="Function">valid</a> <a id="11854" class="Symbol">:</a> <a id="11856" class="Symbol">(</a><a id="11857" href="Text.Pretty.Core.html#11857" class="Bound">width</a> <a id="11863" class="Symbol">:</a> <a id="11865" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="11866" class="Symbol">)</a> <a id="11868" class="Symbol">(</a><a id="11869" href="Text.Pretty.Core.html#11869" class="Bound">b</a> <a id="11871" class="Symbol">:</a> <a id="11873" href="Text.Pretty.Core.html#2343" class="Record">Block</a><a id="11878" class="Symbol">)</a> <a id="11880" class="Symbol">→</a> <a id="11882" href="Relation.Nullary.Decidable.Core.html#1478" class="Record">Dec</a> <a id="11886" class="Symbol">(</a><a id="11887" href="Text.Pretty.Core.html#2557" class="Field">Block.maxWidth</a> <a id="11902" href="Text.Pretty.Core.html#11869" class="Bound">b</a> <a id="11904" class="Symbol">.</a><a id="11905" href="Data.Refinement.html#653" class="Field">value</a> <a id="11911" href="Data.Nat.Base.html#1640" class="Datatype Operator">≤</a> <a id="11913" href="Text.Pretty.Core.html#11857" class="Bound">width</a><a id="11918" class="Symbol">)</a>
<a id="11920" href="Text.Pretty.Core.html#11848" class="Function">valid</a> <a id="11926" href="Text.Pretty.Core.html#11926" class="Bound">width</a> <a id="11932" href="Text.Pretty.Core.html#11932" class="Bound">b</a> <a id="11934" class="Symbol">=</a> <a id="11936" href="Text.Pretty.Core.html#2557" class="Field">Block.maxWidth</a> <a id="11951" href="Text.Pretty.Core.html#11932" class="Bound">b</a> <a id="11953" class="Symbol">.</a><a id="11954" href="Data.Refinement.html#653" class="Field">value</a> <a id="11960" href="Data.Nat.Properties.html#5850" class="Function Operator">≤?</a> <a id="11963" href="Text.Pretty.Core.html#11926" class="Bound">width</a>
</pre></body></html>